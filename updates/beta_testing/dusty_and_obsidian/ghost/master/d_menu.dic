//---------------------------Menus--------------------------

OpenSakuraMenu
{
	watchingScreen = 0
	if holdingObsidian == 1
	{
		jumpMenu = 1
		"%(wdc)"
		--
		"\0\s[600]%(t)Sorry##\w4 my arms are a little full at the moment##]\w4 %(username).\w8\w8\1%(holdnoise)\e"
		"\0\s[606]%(t)Ah##\w4 my hands are full] %(username).\w8\w8\1%(holdnoise)\e"
		"\![get,property,OnObsidianJumpDown,currentghost.scope(0).rect]"
	}
	else
	{
		if autoupdate == "ON" && updateavailable == 1
		{
			"\0%(wdc)%(t)\s[0\]An update is available.\w8\w8 Would you like to download it now?]\n\n"
			--
			"\![*]\q[Download it now,updatecheck]\n/
			\![*]\q[Maybe later,updatelater]\n\n/
			\![*]\q[Turn off auto updates,nomoreupdatesplease]\e"
		}
		else
		{
			"%(wdcb)"
			--
			"\0\s[0]"
			"\0\s[114]"
			"\0\s[104]"
			"\0\s[103]"
			"\0\s[102]"
			--
			"%(t)"
			--
			"Yes## can I help you?]"
			"Did you need something?]"
			"What do you need##] %(username)?"
			"What can I do for you##] %(username)?"
			"Yes## what is it that you need?]"
			"What can I do to help?]"
			"What can I do for you?]"
			"I'm glad to help if I can.]"
			"Yes##] %(username)?"
			"May I be of assistance?]"
			"How may I assist?]"
			--
			MenuRun
		}
	}
}

Select.updatecheck
{
	updateavailable = 0
	"\![updatebymyself]"
}

Select.updatelater //If the user decides they want to put off the update
{
	"\0\s[102]%(wdc)%(t)Very well.\w8\w8\s[0\] If you want to update later##\w4 you can find the option in the functions menu##\w4 or press] Ctrl + U.\e"
	--
	updateavailable = 0 //So that he doesn't keep telling the user.
	askedalready = 1
}

Select.nomoreupdatesplease //If the user decides to turn off auto updates
{
	"\0\s[0]%(wdc)%(t)Ok##\w4 I won't ask you about updates.\w8\w8 If you change your mind## you can turn it back on in the settings menu.]\e"
	--
	autoupdate = "OFF"
	updateavailable = 0
}

MenuRun
{	
	"%(wdcb)%(wdm)"
	--
	"\n\n\_q* (You ask him...)\n\n[half]"
	--
	if lastTalk != ""
	{
	  "\![*]\q[To repeat himself,OnLastTalk]\n"
	}
	-- //These are anchors
 	"\![*]To talk MToYou or to MAnotherGhost\n/ 
	\![*]\q[Some questions,OnQuestionMenu]\n/
	\![*]\q[About %(teachFont),OnWingdingsMenu]\n\n/
	* (Or maybe instead you want to...)\n\n[half]/
	\![*]\q[Do something,dosomething]\n/
	\![*]\q[Use some functions,OnFunctionMenu]\n/
	//\![*]\q[Give him an item,inventory]\n/ //I was gonna do this but then changed my mind...
	\![*]\q[Change some settings,OnTalkConfig]\n\n"
	--
	if debug == 1 //Use at your own risk. Always check the test variable before running it, sometimes I have things in there that'll reset your variables. I haven't given Dusty a debug menu yet, so I just commented it out.
	{
		"* (Or, for the very curious...)\n\n[half]/
		//\![*]\q[Debug,zidebug]\n/
		\![*]\q[Test Variable,testvariable]\n\n"
	}
	--
 	"\![*]\q[Nevermind,CANCEL]\n\n%(displayweekday) %(nowhour):%(nowmin) %(ap), %(month)/%(day)/%(year) - %(season)"
	--
	if tempurature[0] != "Unknown"
	{
		", %(tempurature[0])%(Degrees[1])"
	}
	--
	if AutoWeather == "ON" || phase != "Unknown"
	{
		" %(moonphase)"
	}
	--
	"\nRuntime: %(passhour):%(displaymin)"
	--
	"\_l[220]Version %(dustyver)"
	--
	if WDOnly == 1
	{
		"\n\n%(rgf)\q[(Turn %(teachFont) mode %(WDOn),togglewdmm])\e" //might replace this with an image or something later...
	}
	else
	{
		"\e"
	}
}

OnLastTalk
{
	"%(lastTalk)"
}


//========================Question menu=========================

OnQuestionMenu
{
	"\0%(wdcb)\_q* (You ask him about...)\n\n/
	\![*]\q[Himself,abouthim]\n"
	--
	if askedaboutobsidian == 0
	{
		"\![*]\q[The cat,aboutthecat]\n"
	}
	else
	{
		"\![*]\q[Obsidian,aboutobsidian]\n"
	}
	--
	if askedabouthim == 1
	{
		"\![*]\q[The void,aboutthevoid]\n/
		\![*]\q[Timelines,abouttimelines]\n"
		--
		if (talkedtoS + talkedtoElsen + talkedtoMiniDev) > 0
		{
			"\![*]\q[Another ghost,OnOtherGhosts]\n"
		}
		/*--
		if SeePC == "ON"
		{
			"\![*]\q[Your computer,aboutyourcomputer]\n"
		}*/
	}
	--
	"\n\![*]\q[Go back,BACKTOMENU]\n\![*]\q[Nevermind,CANCEL]"
}

Select.abouthim : nonoverlap
{
	if askedabouthim != 1
	{
		"%(wdc)"
		--
		"%(t)\0\s[106\]Ah##\w4 I'm not sure how much there is to say.\w8\w8\s[209\] I live in the void##\w4\s[200\] though 'live' is perhaps not the best term for it.\w8\w8\s[204\] I fell into the CORE a very long time ago##\w4 which is how I ended up in the void##\w4 a place where there is no time.\w8\w8\n\n\s[108\]Unfortunately##\w4 in the process##\w4 my HP also dropped to 0.\w8\w8\s[109\] So...\w8\w8 I'm dead.\w8\w8\s[200\] My soul is perpetually crumbling##\w4 as are parts of my body.\w8\w8 \s[106\]Though##\w4 I've been able to manipulate my void to cover it##\w4 somewhat.\w8\w8\n\n\s[204\]Anyways##\w4 since I've already gone past the point of no return##\w4 there's no way to heal me.\w8\w8 If I leave my void##\w4 I'll turn to dust.\w8\w8\s[106\]\n\nThough##\w4 ah##\w4 there are some places I can survive where time also doesn't flow##\w4 usually other voids.\w8\w8\s[104\] It seems your computer is one of these places##\w4 and I'm glad to take refuge where I can get it.]%(morequestions)"
		askedabouthim = 1
	}
	elseif askedabouthim == 1
	{
		"%(wdc)"
		--
		"%(t)\0\s[106\]Ah##\w4 I'm not sure how much there is to say.\w8\w8\s[209\] I live in the void##\w4\s[200\] though 'live' is perhaps not the best term for it.\w8\w8\s[204\] I fell into the CORE a very long time ago##\w4 which is how I ended up in the void##\w4 a place where there is no time.\w8\w8\n\n\s[108\]Unfortunately##\w4 in the process##\w4 my HP also dropped to 0.\w8\w8\s[109\] So...\w8\w8 I'm dead.\w8\w8\s[200\] My soul is perpetually crumbling##\w4 as are parts of my body.\w8\w8 \s[106\]Though##\w4 I've been able to manipulate my void to cover it##\w4 somewhat.\w8\w8\n\n\s[204\]Anyways##\w4 since I've already gone past the point of no return##\w4 there's no way to heal me.\w8\w8 If I leave my void##\w4 I'll turn to dust.\w8\w8\s[106\]\n\nThough##\w4 ah##\w4 there are some places I can survive where time also doesn't flow##\w4 usually other voids.\w8\w8\s[104\] It seems your computer is one of these places##\w4 and I'm glad to take refuge where I can get it.]"
		"%(t)\0\s[0\]I may be stuck in the void##\w4 but there are still a few things I can do.\w8\w8\s[111\] I can create screens to view timelines through##\w4 for one.\w8\w8\s[209\]\n\nBack when I first arrived in the void##\w4 it wasn't all that useful aside from keeping me from getting too bored.\w8\w8\s[201\] But now that I know some friends who can timeline hop##\w4 it's a very useful way to get them information and make sure they're safe.\w8\w8\s[102\]\n\nKeeping a watchful eye out for them is the least I can do to repay them for all they've given me.]"
		"%(t)\0\s[106\]I don't sleep much##\w4\s[107\] but it's really not as big a deal for me as my friends insist.\w8\w8\s[201\] Really##\w4 in my state I can stay up for several days without ill effects.\w8\w8\s[107\]\n\nThough##\w4 there's not much concept of a 'day' in the void.]"
		"%(t)\0\s[200\]I spent a lot of time alone in the void##\w4 before I started getting visitors.\w8\w8\s[204\] I almost lost myself completely...\w8\w8\s[104\] Things are much better now.\w8\w8\s[0\] I'm still alone a lot of the time##\w4 but I have visitors regularly now##\w4 and we've managed to contruct the basics for inter-dimensional communication.]"
		"%(t)\0\s[0\]I'm very connected with my void##\w4\s[208\] I have ah##\w4 sort of a 6th sense now##\w4 I suppose?\w8\w8\s[104\] I can sense anything that's within my void##\w4 and where it is in relation to me.\w8\w8\n\n\s[106\]It has its drawbacks.\w8\w8 I can only have so many objects within my void##\w4 or I'll start to get overloaded.\w8\w8\s[107\] I discovered this when my friends decided to try building me a house.]"
		"%(t)\0\s[104\]I've taught myself a lot of questionably useful skills to keep myself occupied.\w8\w8\s[0\] Have you heard of speed cubing?\w8\w8\s[102\] There are people capable of solving a Rubik's cube within a few seconds.\w8\w8\s[111\] It's actually simple once you know how##\w4 it's all math based.\w8\w8\n\n\s[205\]I've gotten pretty good at it##\w4 I think##\w4 although I've never tried competing against someone else...]"
		"%(t)\0\s[201\]I've read a lot of books.\w8\w8\s[106\] A \f[italic##true\]lot\f[italic##default\] a lot of books.\w8\w8\s[107\] I've got a lot of time##\w4 and books are an easy way to keep from getting bored.\w8\w8\s[106\] I'm pretty sure the library my friends borrow them from for me is going to run out soon.]"
		--
		"%(morequestions)"
	}
}

Select.aboutthecat : nonoverlap
{
	"%(wdc)"
	--
	if sHoldingObsidian == 1
	{
		"%(t)\0\s[114\]Ah##\w4 her name is Obsidian.\w8\w8\s[400\] She's been my companion in the void for many years now.\w8\w8\n\n\s[106\]She was brought to me while very ill##\w4 so that I could care for her##\w4\s[204\] but unfortunately she didn't manage to pull through.]\w8\w8\0\s[200]\n\n%(t)Thanks to the nature of my void##\w4 she's still here even if she isn't technically alive.\w8\w8\s[102\] She doesn't seem to mind it at all##\w4 she's grown used to the void and very attached to me.]\w8\w8\1\n\n%(holdnoise)\0%(morequestions)"
	}
	else
	{
		"%(t)\0\s[114\]Ah##\w4 her name is Obsidian.\w8\w8\s[400\] She's been my companion in the void for many years now.\w8\w8\n\n\s[106\]She was brought to me while very ill##\w4 so that I could care for her##\w4\s[204\] but unfortunately she didn't manage to pull through.]\w8\w8\1%(catnoises)\w8\w8\0\s[200]\n\n%(t)Thanks to the nature of my void##\w4 she's still here even if she isn't technically alive.\w8\w8\s[102\] She doesn't seem to mind it at all##\w4 she's grown used to the void and very attached to me.]\w8\w8\1\n\n%(catnoises).\0%(morequestions)"
	}
	askedaboutobsidian = 1
}

Select.aboutobsidian : nonoverlap
{
	"%(wdc)"
	--
	if sHoldingObsidian == 1
	{
		"\0\[102]%(t)Heh##\w4 she seems to be enjoying S's company a lot.]"
		"\0\s[102]%(t)She's a sucker for affection##\w4 if you can't tell.]"
		"\0\s[104]%(t)She's really very sweet##\w4 you know.]"
	}
	else
	{
		"%(t)\0\s[106\]She can be a little fussy##\w4\s[103] but she's really very sweet.]\w8\w8\1%(catnoises).\0\n\n\w8\w8\s[107]%(t)She just takes a while to warm up to strangers.]"
		"%(t)\0\s[113\]If I ignore her she pushes over my stacks of books to get my attention.]"
		"%(t)\0\s[104\]She's a very welcome companion in the void.\w8\w8\s[106\] I wish I could give her a better home.]\w8\w8\1%(catnoises).\w8\w8\0\s[400]\n\n%(t)Though##\w4 she seems to be content to stay with me regardless.]"
		"\1\s[1000]\0%(wdc)\s[400]%(t)She spends a lot of time cleaning her fur##\w4\s[113\] even though there's not much in the void to get it dirty in the first place.]\w8\w8\1\s[1002]Mrrr."
		"%(t)\0\s[107\]Sometimes she walks on top of me while I'm trying to sleep.]\w8\w8\1%(catnoises).\w8\w8\0\n\n\s[402]%(wdf)YOU DO, DON'T DENY IT."
		"%(t)\0\s[102\]There's nothing as soothing as when a cat puts its paw on you and looks into your eyes##\w4 purring softly.]\w8\w8\1%(catpose)%(holdnoise)."
		"%(t)\0\s[113\]Sometimes I open screens looking at birds or mice to distract her.]\w8\w8\1%(catnoises).\w8\w8\0\n\n\s[114]%(t)It usually keeps her occupied for a while.]"
		if treatsgiven > 10
		{
			"\1%(catnoises).\w8\w8\0%(wdc)\s[400]%(t)She's very picky about who she likes.\w8\w8\s[102\] But##\w4 seems to enjoy your company well enough.\w8\w8\s[113\]\n\nMaybe moreso when you're giving her treats.]"
		}
		if recenttreats < 3
		{
			"\1%(catnoises).\w8\w8\0%(wdc)\s[400]%(t)...I think she's hungry.]"
		}
		if recenttreats > 10
		{
			"\1\s[1000]Prrp.\w8\w8\0%(wdc)\s[102]%(t)...She's probably had enough treats for now.]\w8\w8\1\s[1005]\n\nMrrrrrr~\w8\w8\0\s[402]%(wdf)\n\nYOU'RE PROUD OF YOURSELF,\w4 ARENT YOU." //replaceframe obsi laying down
		}
	}
	--
	"\0%(rgc)%(morequestions)"
}

Select.aboutthevoid : nonoverlap
{
	"%(wdc)"
	--
	"%(t)\0\s[209\]Ah##\w4 there's not much to it.\w8\w8\s[106\] There's nothing but gray as far as the eye can see.\w8\w8\n\n\s[208\]There's no time##\w4 nor tempurature.\w8\w8\s[107\] There isn't really anything except me##\w4 my cat##\w4 and my few belongings]"
	"%(t)\0\s[206\]It's very quiet there.\w8\w8\s[0\] Your computer is very loud by comparison##\w4\s[104\] but I appreciate having some ambience for once.\w8\w8\n\n\s[205\]I can use my screens to look into other timelines and hear ambient sounds that way##\w4\s[107\] but it's not really the same thing.]"
	"%(t)\0\s[208\]It's become a part of me##\w4 in a way.\w8\w8\s[550\] I can use it to form screens like this##\w4 which let me see into various timelines.\w8\w8\s[102\]\n\nI can also pull small pieces of it to myself##\w4 to fill in the parts of my body that have turned to dust.\w8\w8\s[106\] It has a very numbing effect##\w4 which is also helpful.]"
	"%(t)\0\s[200\]It stretches on and on##\w4 with no discernable end.\w8\w8\s[106\] I did try to find if there was a boundary once##\w4 but no matter how far I teleported##\w4 there was no difference in the amount of void I sensed around me.]"
	"%(t)\0\s[102\]If I concentrate##\w4 I can use it to sense the multiverse itself##\w4 and even track the magic signatures of people I know.\w8\w8\s[205\] It gives me some small way to pay back my friends for their help##\w4 I can help them if they or anyone they love gets lost among the infinite timelines somewhere.]"
	--
	"\0%(rgc)%(morequestions)"
}

Select.abouttimelines : nonoverlap
{
	"%(wdc)"
	--
	"%(t)\0\s[114\]There are many kinds of timelines out there##\w4\s[106\] some so strange you wouldn't believe me about them if I told you.]"
	"%(t)\0\s[205\]I can use my screens to look anywhere in any timeline.\w8\w8\s[102\]  I often use this to look at sunsets##\w4 or the night sky.\w8\w8\s[106\]\n\nIt isn't really the same as being there in person##\w4\s[114\] but if I make large enough screens it's pretty good.]"
	if sHoldingObsidian == 1
	{
		"%(t)\0\s[206\]It seems that almost every Gaster in the multiverse is doomed to a similar fate as I have.\w8\w8\s[110\] It takes different forms sometimes##\w4\s[200\] but we always end up getting...\w8\w8\s[204\] erased.]"
	}
	else
	{
		"%(t)\0\s[206\]It seems that almost every Gaster in the multiverse is doomed to a similar fate as I have.\w8\w8\s[110\] It takes different forms sometimes##\w4\s[200\] but we always end up getting...\w8\w8\s[204\] erased.]\w8\w8\1%(catnoises).\0\w8\w8\s[400]%(wdf)\n\nI'M ALRIGHT,\w4 OBSIDIAN."
	}
	"%(t)\0\s[205\]The multiverse contains everything that can ever be.\w8\w8\s[201\] At some point I realized that also means the fiction books I've read aren't technically fiction##\w4 if I search hard enough.\w8\w8\n\n\s[102\]It's really strange searching for a world you read about in a book##\w4 finding it##\w4\s[107\] and then discovering that your world is also fiction to them.]"
	--
	"\0%(rgc)%(morequestions)"
}

Select.aboutyourcomputer
{
	"%(wdc)"
	--
	
	--
	"\0%(rgc)%(morequestions)"
}


//-----Asking about other ghosts he's met-----
OnOtherGhosts
{
	"\0%(wdcb)\_q* (Ask about...)\n\n"
	--
	if talkedtoS == 1
	{
		"\![*]\q[S,aboutS]\n"
	}
	--
	if talkedtoElsen > 0
	{
		"\![*]\q[Elsen,aboutElsen]\n"
	}
	--
	if talkedtoMiniDev > 0
	{
		"\![*]\q[MiniDev,aboutMiniDev]\n"
	}
	--
	"\n\![*]\q[Go back,OnQuestionMenu]\n\![*]\q[Nevermind,CANCEL]"
}

Select.aboutS : nonoverlap
{
	"%(wdc)"
	--
	if "RYS-0825" !_in_ ghostexlist //If S isn't present
	{
		"%(t)\0\s[103\]Ah##\w4 S and I have been friends for many years now.\w8\w8\s[102\] He falls into different timelines sometimes##\w4 and he once fell into my void.\w8\w8\n\n\s[205\]He was sympathetic to my plight##\w4\s[201\] and decided to come back regularly to visit.\w8\w8\s[104\]\n\nI'm very grateful to have him and his family as friends.]\w8\w8\1%(catpose)%(holdnoise)"
		"%(t)\0\s[102\]He's a fine skeleton##\w4 and a good father to his children.\w8\w8\s[113\]\n\nThe version you bring here isn't the only one##\w4 I'm sure you're aware.\w8\w8 I've looked around at other versions of his timeline##\w4\s[107\] and if you thought he has a lot of children now##\w4 you don't want to know about all the ones he's adopted in other timelines.]"
		--
		"%(ghostquestions)"
	}
	else //If S is present
	{
		//res_reference0 = "RYS-0825"
		"%(t)\0\s[104\]We've been friends for a very long time##\w4 it's nice that I can meet him here.]"
		"\![raise,OnMenuCommu,rudetotalk]"
		--
		"%(ghostquestions)"
	}
}

Select.aboutElsen : nonoverlap
{
	if "Elsen" !_in_ ghostexlist //If Elsen is not present
	{
		if talkedtoElsen == 2 //After he's learned about OFF
		{
			"\0\s[206]%(t)Ah...\w8\w8 his world is a very strange one##\w4 indeed.\w8\w8\s[110\] I'm not entirely sure what to make of it##\w4 honestly.\w8\w8\s[208\] It's all just a little off...]"
			"\0\s[206]%(t)You should take good care of him##\w4 his own timeline probably isn't doing him any favors.]"
			"\0\s[108]%(t)Be good to him.\w8\w8 It seems that his kind can become corrupted and lose themselves if they become stressed out##\w4 and they do that very easily.]"
			"\0\s[206]%(t)That sugar...\w8\w8\s[109\] Be mindful how much of that you give him.]"
			"\0\s[106]%(t)Holding Obsidian seems to make him feel a little better##\w4 which I'm glad to see.\w8\w8\s[104\] She seems to like him too##\w4 so it's beneficial for both.]"
			"\0\s[206]%(t)There are dark things happening in those timelines...\w8\w8 Oddly##\w4 some of it reminds me of my world.]"
			"\0\s[200]%(t)This 'Dedan' fellow he sometimes speaks of##\w4 I don't like him.\w8\w8\s[206\] Though##\w4 strangely##\w4 he almost feels familiar...]"
			"\0\s[206]%(t)I'll keep an eye on him when he's not here##\w4 though I don't think there's really anything I can do for him...\w8\w8\s[109\] That world seems destined to be bleak.]"
			"\0\s[107]%(t)I've seen a lot of things during my time in the void##\w4 but I've never seen metal being grown via cows before...\w8\w8\s[106\] I guess you learn something new every day.]"
			"\0\s[206]%(t)All of his kind seem perpetually tired...\w8\w8\s[109\] I'm sure I'd feel the same way were I in their shoes.]"
			"\0\s[108]%(t)It seems the specters they're dealing with in his timeline may be able to reach your computer],\w4 %(username).\w8\w8 %(t)Keep an eye out for them;\w8 nothing good will come of them being here.]"
		}
		else //Before he's learned about OFF
		{
			"\0\s[208]%(t)Honestly##\w4 I don't know anything about him##\w4\s[104\] other than he seems to like cats.\w8\w8\s[0\] I'm going to see if I can find his timeline later##\w4 I'm curious how much different it is from my own.]"
		}
	}
	else //If Elsen is present
	{
		"\0\s[106]%(t)You should ask him yourself##\w4 he's right here after all.]"
	}
	--
	"%(ghostquestions)"
}

Select.aboutMiniDev : nonoverlap
{
	if "MiniDev" !_in_ ghostexlist
	{
		if talkedtoMiniDev == 2
		{
			"\0\s[106]%(t)I'm afraid I still don't have much information.\w8\w8\s[208\] His world has been difficult to find information on...\w8\w8\s[110\] He is definitely more than he seems##\w4 though.]"
			"\0\s[208]%(t)There is something strange about him##\w4 though I'm not quite sure what.\w8\w8\s[108\] I don't believe he's a simple AI##\w4 though.\w8\w8\s[200\] Something is in there##\w4 I'm sure of it...]"
			"\0\s[106]%(t)I suppose I shouldn't have been surprised that he can translate Wingdings##\w4 given that he's a computer...]"
			"\0\s[107]%(t)Obsidian seems to like him a lot.\w8\w8\s[106\] I think it's just because his monitor generates heat##\w4 honestly.]"
if talkedtoS == 1;"\0\s[110]%(t)I found a stash of clothes in your files that looked like they might belong to him.\w8\w8\s[106\] I saw some that looked like S's mixed in##\w4 though perhaps it's just a coincidence...]"
		}
		else
		{
			"\0\s[208]%(t)I don't know much about him yet##\w4 though I do sense an odd presence coming from him...\w8\w8\s[106\] I'll see what I can find out later.]"
		}
	}
	else
	{
		"\0\s[106]%(t)You should ask him your questions##\w4 he's right here.\w8\w8\s[107\] He could certainly tell you more than me...]"
	}
	--
	"%(ghostquestions)"
}

ghostquestions
{
	"\n\n\![*]\q[Ask about someone else,OnOtherGhosts]\n\![*]\q[I'm done,cancelnodialogue]\e"
}

morequestions
{
	"\n\n\![*]\q[Ask something else,OnQuestionMenu]\n\![*]\q[I'm done,cancelnodialogue]\e"
}

//========================End of Question menu=========================

//=====================================Wingdings Menu=====================================

OnWingdingsMenu
{
	if askedaboutwingdings == 0
	{
		"%(wdcb)\s[0]\0\s[114]Oh, you want to learn about wingdings?\w8\w8\s[104] Sure, I'd be glad to teach you.\w8\w8\s[0] What would you like me to do?\n\n\_q"
		askedaboutwingdings = 1
	}
	else
	{
		"%(wdcb)\s[0]\_q\0%(t)What would you like me to do?]\n\n"
	}
	--
	//OnWDGames is over in d_games.dic. So is OnCategoryList and OnCaseList
	"/
	\![*]\q[Translate something to %(teachFont),inputToWD]\n/
	\![*]\q[Translate something from %(teachFont),translatefromWD]\n/
	\![*]\q[Show me a %(teachFont) chart,chartWD]\n\n/
	\![*]\q[Teach me to read wingdings,OnTeachWD]\n/
	\![*]\q[%(teachFont) Practice Mode:,practicemodeinfo] \q[(%(teachWD)),ToggleTeach]\n/
	\![*]\q[Translation Tooltips (%(tooltips)),ToggleTooltips]\n/
	%(rgf)\![*]\q[%(wdnMDisp),toggleWD]%(reg)\n\n/
	%(wdm)\![*]\q[%(teachFont) Quizzes and Games,OnWDGames]\n/
	\![*]\q[Toggle word categories,OnCategoryList]\n/
	\![*]\q[Toggle cases,OnCaseList]\n\n/
	\![*]\q[Change font,OnFontMenu]\n"
	/*Current language: "
	--
	if WDOnly == 1
	{
		"%(wdn)WINGDINGS%(rgc)"
	}
	else
	{
		"English"
	}*/
	--
	"\n\n[half]\![*]\q[Go back,BACKTOMENU]\n\![*]\q[I'm done,cancelnodialogue]\e"
}

//-----Translate into WD-----
Select.inputToWD
{
	"%(wdc)"
	--
	"\0\s[0]Something you want me to translate?\![open,inputbox,OntranslatetoWD,-1]"
	"\0\s[0]Sure,\w4 what did you want me to translate?\![open,inputbox,OntranslatetoWD,-1]"
}

OntranslatetoWD
{
	translatedText = reference0
	//_textlower = TOLOWER(_text)
	//_textupper = TOUPPER(_text)
	
	"\0\b2\s[0]'%(translatedText)' would be:\n\n%(wdn)%(medf)%(translatedText)%(reg)"
	--
	"\n\n\*\![set,balloontimeout,-1]\![*]\q[Take a screenshot?,screenshot]\n\![*]\q[Back to menu,OnWingdingsMenu]\e"
}

Select.screenshot
{
	"\_q\b2%(medf)%(wdn)%(translatedText)\![set,balloontimeout,-1]\![raise,OnScreenshot]"
}

OnScreenshot
{
	_i = FUNCTIONEX("screencatch.dll")
	"\_q\b2%(medf)%(wdn)%(translatedText)"
	--
	"\n\n%(reg)\*\![set,balloontimeout,-1]\![*]\q[Take a screenshot?,screenshot]\n\![*]\q[Back to menu,OnWingdingsMenu]\e"
}

//-----Translate out of WD-----
Select.translatefromWD
{
	currentlytranslating = ""
	TranslationProgress
}

TranslationProgress
{
	"\p[2]\s[-1]\b[10]\f[height,20]\_q%(wdn)%(currentlytranslating)%(reg)\0\b2"
	--
	"\f[height,25]trCA trCB trCC trCD trCE trCF trCG trCH trCI trCJ\ntrCK trCL trCM trCN trCO trCP trCQ trCR trCS\ntrCT trCU trCV trCW trCX trCY trCZ\n\n[half]\f[height,20]trLA trLB trLC trLD trLE trLF trLG trLH trLI trLJ\ntrLK trLL trLM trLN trLO trLP trLQ trLR trLS trLT trLU trLV\ntrLW trLX trLY trLZ\n\n[half]trcco trcpr trc! trcqs trc' trc- trc: trc;"
	--
	if teachFont == "Wingdings"
	{
		"\n\_l[,240]\f[height,default]\![*]\q[Add a space,translatespace]      \![*]\q[Add a line break,translatelinebreak]\n\![*]\q[Numbers and Punctuation,TranslatePunctuation]\n\n[half]\![*]\q[Finish and Translate,finishtranslate]\n\![*]\q[Cancel,cancelnodialogue]\t\*"
	}
	else
	{
		"\n\n\n\f[height,default]\![*]\q[Add a space,translatespace]      \![*]\q[Add a line break,translatelinebreak]\n\![*]\q[Numbers and Punctuation,TranslatePunctuation]\n\n[half]\![*]\q[Finish and Translate,finishtranslate]\n\![*]\q[Cancel,cancelnodialogue]\t\*"
	}
}

TranslationPunctuation
{
	"\p[2]\s[-1]\b[10]\f[height,20]\_q%(wdn)%(currentlytranslating)%(reg)\0\b2"
	--
	"\f[height,25]tr` tr1 tr2 tr3 tr4 tr5 tr6 tr7 tr8\ntr9 tr0 tr- tr= trbslash tr~ tr! tr@ tr#\ntr$ tr% tr^ tr& tr* tr( tr)\ntr_ tr+ tr| tr[ tr] tr{ tr} tr; tr'\ntr: trquote trco trpr trsl trls trgr trqs "
	--
	if teachFont == "Wingdings"
	{
		"\n\_l[,240]\f[height,default]\![*]\q[Add a space,translatespace2]      \![*]\q[Add a line break,translatelinebreak2]\n\![*]\q[Letters,TranslateLetters]\n\n[half]\![*]\q[Finish and Translate,finishtranslate]\n\![*]\q[Cancel,cancelnodialogue]\t\*"
	}
	else
	{
		"\n\n\n\f[height,default]\![*]\q[Add a space,translatespace2]      \![*]\q[Add a line break,translatelinebreak2]\n\![*]\q[Letters,TranslateLetters]\n\n[half]\![*]\q[Finish and Translate,finishtranslate]\n\![*]\q[Cancel,cancelnodialogue]\t\*"
	}
}

Select.TranslateLetters
{
	TranslationProgress
}

Select.TranslatePunctuation
{
	TranslationPunctuation
}

Select.translatespace
{
	currentlytranslating += " "
	--
	TranslationProgress
}

Select.translatespace2
{
	currentlytranslating += " "
	--
	TranslationPunctuation
}

Select.translatelinebreak
{
	currentlytranslating += "\n"
	--
	TranslationProgress
}

Select.translatelinebreak2
{
	currentlytranslating += "\n"
	--
	TranslationPunctuation
}

Select.finishtranslate
{
	currentlytranslating = REPLACE(currentlytranslating,"ॐ","\\")
	"\0\s[111]\b2The translation is:\n\n%(currentlytranslating)\n\n\![*]\q[Take a screenshot?,screenshot2]\n\![*]\q[Back to %(teachFont) Menu,OnWingdingsMenu]\*\![set,balloontimeout,-1]"
}

Select.screenshot2
{
	"\_q\b2%(currentlytranslating)\![set,balloontimeout,-1]\![raise,OnScreenshot2]"
}

OnScreenshot2
{
	_i = FUNCTIONEX("screencatch.dll")
	"\_q\b2%(currentlytranslating)"
	--
	"\n\n\*\![set,balloontimeout,-1]\![*]\q[Take a screenshot?,screenshot2]\n\![*]\q[Back to menu,OnWingdingsMenu]\e"
}

//-----WD Chart-----
Select.chartWD
{
	"\b2\f[height,22]\_q\![set,balloontimeout,-1]\*"
	--
	"A%(wdn)%(chrt)A%(rg)  B%(wdn)%(chrt)B%(rg)  C%(wdn)%(chrt)C%(rg)  D%(wdn)%(chrt)D%(rg)  E%(wdn)%(chrt)E%(rg)  F%(wdn)%(chrt)F%(rg)  G%(wdn)%(chrt)G%(rg)\n\n[half]H%(wdn)%(chrt)H%(rg)  I%(wdn)%(chrt)I%(rg)  J%(wdn)%(chrt)J%(rg)  K%(wdn)%(chrt)K%(rg)  L%(wdn)%(chrt)L%(rg)  M%(wdn)%(chrt)M%(rg)  N%(wdn)%(chrt)N%(rg)\n\n[half]O%(wdn)%(chrt)O%(rg)  P%(wdn)%(chrt)P%(rg)  Q%(wdn)%(chrt)Q%(rg)  R%(wdn)%(chrt)R%(rg)  S%(wdn)%(chrt)S%(rg)  T%(wdn)%(chrt)T%(rg)\n\n[half]U%(wdn)%(chrt)U%(rg)  V%(wdn)%(chrt)V%(rg)  W%(wdn)%(chrt)W%(rg)  X%(wdn)%(chrt)X%(rg)  Y%(wdn)%(chrt)Y%(rg)  Z%(wdn)%(chrt)Z%(rg)"
	--
	if teachFont == "Wingdings"
	{
		"\f[height,default]%(rg)\_l[0,270]\![*]\q[Lowercase,chartWDlower]\_l[100]\![*]\q[Numbers and Punctuation,chartWDpunct]"
	}
	else
	{
		"\f[height,default]%(rg)\n\n\![*]\q[Lowercase,chartWDlower]\_l[100]\![*]\q[Numbers and Punctuation,chartWDpunct]"
	}
	--
	"\n\![*]\q[Back to %(teachFont) Menu,OnWingdingsMenu]\e"
}

Select.chartWDlower
{
	"\b2\f[height,22]\_q\![set,balloontimeout,-1]\*"
	--
	"a%(wdn)%(chrt)a%(rg)  b%(wdn)%(chrt)b%(rg)  c%(wdn)%(chrt)c%(rg)  d%(wdn)%(chrt)d%(rg)  e%(wdn)%(chrt)e%(rg)  f%(wdn)%(chrt)f%(rg)  g%(wdn)%(chrt)g%(rg)\n\n[half]h%(wdn)%(chrt)h%(rg)  i%(wdn)%(chrt)i%(rg)  j%(wdn)%(chrt)j%(rg)  k%(wdn)%(chrt)k%(rg)  l%(wdn)%(chrt)l%(rg)  m%(wdn)%(chrt)m%(rg)  n%(wdn)%(chrt)n%(rg)\n\n[half]o%(wdn)%(chrt)o%(rg)   p%(wdn)%(chrt)p%(rg)   q%(wdn)%(chrt)q%(rg)   r%(wdn)%(chrt)r%(rg)   s%(wdn)%(chrt)s%(rg)   t%(wdn)%(chrt)t%(rg)\n\n[half]u%(wdn)%(chrt)u%(rg)  v%(wdn)%(chrt)v%(rg)  w%(wdn)%(chrt)w%(rg)  x%(wdn)%(chrt)x%(rg)  y%(wdn)%(chrt)y%(rg)  z%(wdn)%(chrt)z%(rg)"
	--
	if teachFont == "Wingdings"
	{
		"\f[height,default]%(rg)\_l[0,270]\![*]\q[Uppercase,chartWD]\_l[100]\![*]\q[Numbers and Punctuation,chartWDpunct]"
	}
	else
	{
		"\f[height,default]%(rg)\n\n\![*]\q[Uppercase,chartWD]\_l[100]\![*]\q[Numbers and Punctuation,chartWDpunct]"
	}
	--
	"\n\![*]\q[Back to %(teachFont) Menu,OnWingdingsMenu]\e"
}

Select.chartWDpunct
{
	"\b2\f[height,22]\_q\![set,balloontimeout,-1]\*"
	--
	"` %(wdn)%(chrt)`%(rg)  1 %(wdn)%(chrt)1%(rg)  2 %(wdn)%(chrt)2%(rg)  3 %(wdn)%(chrt)3%(rg)  4 %(wdn)%(chrt)4%(rg)  5 %(wdn)%(chrt)5%(rg)\n\n[half]6 %(wdn)%(chrt)6%(rg)  7 %(wdn)%(chrt)7%(rg)  8 %(wdn)%(chrt)8%(rg)  9 %(wdn)%(chrt)9%(rg)  0 %(wdn)%(chrt)0%(rg)  - %(wdn)%(chrt)-%(rg)\n\n[half]= %(wdn)%(chrt)=%(rg)   \\ %(wdn)%(chrt)\\%(rg)   ~ %(wdn)%(chrt)~%(rg)   ! %(wdn)%(chrt)!%(rg)  @ %(wdn)%(chrt)@%(rg)   # %(wdn)%(chrt)#%(rg)\n\n[half]$ %(wdn)%(chrt)$%(rg)   % %(wdn)%(chrt)%%(rg)  ^ %(wdn)%(chrt)^%(rg)  & %(wdn)%(chrt)&%(rg)  * %(wdn)%(chrt)*%(rg)\n\n[half]( %(wdn)%(chrt)(%(rg)  ) %(wdn)%(chrt))%(rg)  _ %(wdn)%(chrt)_%(rg)  + %(wdn)%(chrt)+%(rg)   | %(wdn)%(chrt)|%(rg)  [ %(wdn)%(chrt)[%(rg)\n\n[half]] %(wdn)%(chrt)]%(rg)  { %(wdn)%(chrt){%(rg)  } %(wdn)%(chrt)}%(rg)   ; %(wdn)%(chrt);%(rg)   ' %(wdn)%(chrt)'%(rg)  : %(wdn)%(chrt):%(rg)  %(CHR(0x22)) %(wdn)%(chrt)%(CHR(0x22))%(rg)\n\n[half], %(wdn)%(chrt),%(rg)  . %(wdn)%(chrt).%(rg)   / %(wdn)%(chrt)/%(rg)  < %(wdn)%(chrt)<%(rg)  > %(wdn)%(chrt)>%(rg)  ? %(wdn)%(chrt)?%(rg)"
	--
	if teachFont == "Wingdings"
	{
		"\f[height,default]%(rg)\_l[0,270]\![*]\q[Uppercase,chartWD]\_l[100]\![*]\q[Lowercase,chartWDlower]"
	}
	else
	{
		"\f[height,default]%(rg)\n\n\![*]\q[Uppercase,chartWD]\_l[100]\![*]\q[Lowercase,chartWDlower]"
	}
	--
	"\n\![*]\q[Back to %(teachFont) Menu,OnWingdingsMenu]\e"
}

//-----Teaching-----
OnTeachWD
{
	"\*\b2\_q\![set,autoscroll,disable]\0\s[0]\_l[120]-Uppercase-\n\n"
	--
	"\![*]\q[Lesson #1 - Hands,WDLesson1]\n/
	\![*]\q[Lesson #2 - Faces,WDLesson2]\n/
	\![*]\q[Lesson #3 - Misc,WDLesson3]\n/
	\![*]\q[Lesson #4 - Weather,WDLesson4]\n/
	\![*]\q[Lesson #5 - Religious Symbols,WDLesson5]\n\n"
	--
	"\*\0\s[0]\_l[120]-Lowercase-\n\n"
	--
	"\![*]\q[Lesson #6 - Star Signs,WDLesson6]\n/
	\![*]\q[Lesson #7 - Ornaments,WDLesson7]\n/
	\![*]\q[Lesson #8 - Circles and Squares,WDLesson8]\n/
	\![*]\q[Lesson #9 - Diamonds,WDLesson9]\n/
	\![*]\q[Lesson #10 - XYZ,WDLesson10]\n\n"
	--
	"\*\0\s[0]\_l[80]-Numbers and Punctuation-\n\n"
	--
	"\![*]\q[Lesson #11 - Numbers,WDLesson11]\n/
	\![*]\q[Lesson #12 - Common Symbols,WDLesson12]\n"
	/*--
	"\![*]\q[Lesson #13 - Top Row pt. 1,WDLesson13]\n/
	\![*]\q[Lesson #14 - Top Row pt. 2,WDLesson14]\n/
	\![*]\q[Lesson #15 - Side Keys pt. 1,WDLesson15]\n/
	\![*]\q[Lesson #16 - Side Keys pt. 2,WDLesson16]"*/
	--
	"\n\n\![*]\q[Back to %(teachFont) Menu,OnWingdingsMenu]\n\![*]\q[I'm done,cancelnodialogue]\e"
}

Select.WDLesson1 //A-I
{
	"\0\s[111]Many Wingdings come in pairs,\w4 and the first uppercase letters are the biggest example of this.\w8\w8\n\n\s[0]The first symbol is %(wdf)%(bigf)A%(reg),\w4 which is A.\w8\w8\s[102] Sometimes humans call this a pe%(bold)A%(reg)ce sign.\w8\w8\n\n\s[111]The second symbol is %(wdf)%(bigf)B%(reg),\w4 which some humans use to mean 'ok'.\w8\w8\s[0] You can remember this with the mnemonic 'It'll %(bold)B%(reg)e ok'.\x"
	--
	"\0\s[102]Next come our first pair,\w4 %(wdf)%(bigf)C%(reg) and %(wdf)%(bigf)D%(reg).\w8\w8\s[111]\n\n%(wdf)%(bigf)C%(reg) is a C,\w4 like %(bold)C%(reg)ongratulations.\w8\w8\n\n%(wdf)%(bigf)D%(reg) is a D,\w4 a thumbs %(bold)D%(reg)own.\x"
	--
	"\0\s[106]The next two aren't so easy.\w8\w8\n\n\s[111] %(wdf)%(bigf)E%(reg) is for E,\w4 like l%(bold)E%(reg)ft,\w4 the way it's pointing.\w8\w8\n\n\s[107]%(wdf)%(bigf)F%(reg) is for F,\w4 which is in the opposite direction from E.\x"
	--
	"\0\s[0]The last pair is much easier.\w8\w8\n\n%(wdf)%(bigf)G%(reg) points upwards,\w4\8\s[111] to %(bold)G%(reg)od,\w4 if you will.\w8\w8\n\n\s[102]%(wdf)%(bigf)H%(reg) is the opposite,\w4 and points down\w4 to %(bold)H%(reg)ell.\x"
	--
	"\0\s[104]The last one is %(wdf)%(bigf)I%(reg),\w4 which you can remember as holding up f%(bold)I%(reg)ve fingers.\w8\w8\s[0] Sound it out,\w4 you'll see why.\x"
	--
	"\0\s[104]And that is all the hands in uppercase.\w8\w8\s[0] That is the largest block out of the way,\w4\s[103] you're well on your way to learning already if you can memorize those 9.\x"
	--
	OnTeachWD
}

Select.WDLesson2 //JKL
{
	"\0\s[111]The next three Wingdings are very simple.\w8\w8 %(wdf)%(bigf)J%(reg), %(wdf)%(bigf)K%(reg), and %(wdf)%(bigf)L%(reg).\w8\w8\s[0]\n\n%(wdf)%(bigf)J%(reg) is J,\w4 a smiling face,\w4 showing %(bold)J%(reg)oy.\w8\w8\n\n\s[102]%(wdf)%(bigf)K%(reg) is for K.\w8\w8 A neutral face,\w4 as though saying '%(bold)K%(reg)ay'.\w8\w8\n\n\s[110]%(wdf)%(bigf)L%(reg) is an L,\w4 a %(bold)L%(reg)ament,\w4 if you will.\x"
	--
	"\0\s[111]The three faces are some of the easiest symbols,\w4 both to write and to remember.\x"
	--
	OnTeachWD
}

Select.WDLesson3 //M-Q
{
	"\0\s[107]The next few symbols are a little less related.\w8\w8\n\n\s[106]%(wdf)%(bigf)M%(reg),\w4 an M,\w4 is a bomb;\w8 like the ones used by %(bold)M%(reg)ettaton.\w8\w8\n\n\s[111]%(wdf)%(bigf)N%(reg) is for N;\w8 a skull and crossbo%(bold)N%(reg)es,\w4 or like %(bold)N%(reg)ecromancy if you like.\w8\w8\x"
	--
	"\0\s[0]%(wdf)%(bigf)O%(reg) is on O,\w4 like a flag waving %(bold)O%(reg)verhead.\w8\w8\n\n%(wdf)%(bigf)P%(reg) is a P,\w4 slightly different from %(wdf)%(bigf)O%(reg).\w8\w8 It's slanted a little and has a %(bold)P%(reg)oint on the end,\w4 like a %(bold)P%(reg)ennant.\x"
	--
	"\0\s[102]%(wdf)%(bigf)Q%(reg) is Q,\w4 and it's kind of an oddball.\w8\w8\s[110] It's a plane,\w4 but I don't have a good mnemonic for it.\x"
	--
	"\0\s[114]You're halfway through uppercase now,\w4 you're doing well.\x"
	--
	OnTeachWD
}

Select.WDLesson4 //RST
{
	"\0\s[114]%(wdf)%(bigf)R%(reg),\w4 %(wdf)%(bigf)S%(reg), and %(wdf)%(bigf)T%(reg) are pretty simple.\w8\w8\s[0]\n\n%(wdf)%(bigf)R%(reg) is for R.\w8\w8 A sun,\w4 shining with bright %(bold)R%(reg)ays.\w8\w8\s[102]\n\n%(wdf)%(bigf)S%(reg) is for S.\w8\w8 It looks like a raindrop,\w8\s[109] or a tear because it's %(bold)S%(reg)ad.\w8\w8\s[0]\n\n%(wdf)%(bigf)T%(reg) is for T,\w4 a snowflake.\w8\w8\s[106] It looks like 6 T's put together,\w4 doesn't it?\x"
	--
	"\0\s[0]That wasn't so bad,\w4 was it?\w8\w8\s[104] Only one more set to go.\x"
	--
	OnTeachWD
}

Select.WDLesson5 //U-Z
{
	"\0\s[102]%(wdf)%(bigf)U%(reg) is a U,\w4 for cr%(bold)U%(reg)cifix.\w8\w8\s[106] It's not really a crucifix,\w4 but close enough.\w8\w8\n\n\s[0]%(wdf)%(bigf)V%(reg) is a V,\w4 which is just like %(wdf)%(bigf)U%(reg) except with a shadow.\w8\w8\n\n\s[111]%(wdf)%(bigf)W%(reg) is for W.\w8\w8\s[0] It's a cross with a %(bold)W%(reg)heel on it.\x"
	--
	"\0\s[111]%(wdf)%(bigf)X%(reg) is an X,\w4 and it looks just like an X on its side.\w8\w8\n\n%(wdf)%(bigf)Y%(reg) is a six pointed star,\w4\s[114] very point%(bold)Y%(reg) indeed.\w8\w8\n\n\s[111]And finally,\w4 %(wdf)%(bigf)Z%(reg) is a Z.\w8\w8\s[102] The moon and star show that it's night time,\w4 and time for you to get some %(bold)Z%(reg)zzs...\x"
	--
	"\0\s[104]And that's all of uppercase Wingdings.\w8\w8\s[103] Well done!\w8\w8\s[102] The best way to remember them is to try writing a few words in Wingdings by hand.\w8\w8\s[106]\n\nDon't be afraid to simplify each symbol,\w4 you don't need every tiny detail for it to be legible.\w8\w8\n\n\s[104]Lowercase,\w4 if you're interested,\w4 is much more fun to write in.\x"
	--
	OnTeachWD
}

Select.WDLesson6 //a-i
{
	"\0\s[106]I'll be honest with you,\w4 lowercase doesn't have nearly as many good mnemonics as uppercase.\w8\w8\s[102] But,\w4 they are much nicer to write in if you take the time to learn them.\x"
	--
	"\0\s[111]First up are the star signs,\w4 starting with %(wdf)%(bigf)a%(reg).\w8\w8\n\n%(wdf)%(bigf)a%(reg) is an a, like in c%(bold)A%(reg)ncer,\w4 the star sign representing it.\w8\w8\n\nNext is %(wdf)%(bigf)b%(reg),\w4 which is b.\w8\w8\s[208] I suppose it looks like a b,\w4 but mirrored and with a very curly tail.\w8\w8\s[106] Sorry I don't have anything better.\x"
	--
	"\0\s[114]Next is %(wdf)%(bigf)c%(reg),\w4 which is a c.\w8\w8\s[111] You can remember it because the tail on the end %(bold)C%(reg)rosses back over the symbol.\w8\w8\n\n\s[0]Then comes %(wdf)%(bigf)d%(reg),\w4 which is for d.\w8\w8\s[205] It looks a little like a d on its side,\w4 I think.\w8\w8\n\n\s[102]%(wdf)%(bigf)e%(reg) is for e,\w4 and it's a lot like %(wdf)%(bigf)c%(reg).\w8\w8\s[0] This time,\w4 however,\w4 the tail points to the right,\w4 or %(bold)E%(reg)ast,\w4 on a map with north at the top.\x"
	--
	"\0\s[0]Only 4 to go.\w8\w8\s[111]%(wdf)%(bigf)f%(reg) is f,\w4 which looks a bit like a normal F with some extra lines.\w8\w8\n\nThen we have %(wdf)%(bigf)g%(reg) as g,\w4\s[106] which is honestly the most fun symbol to write.\w8\w8\s[107] I don't have anything more to say about it.\w8\w8\n\n\s[111]Next,\w4 we have %(wdf)%(bigf)h%(reg),\w4 which is h,\w4\s[104] and I think looks like a visual depiction of when people type 'hhhhhhhhhhhh'.\w8\w8\n\n\s[0]Finally,\w4 we have %(wdf)%(bigf)i%(reg),\w4 i,\w4 which looks a lot like a r%(bold)I%(reg)ver with a br%(bold)I%(reg)dge over it.\x"
	--
	"\0\s[104]You're a good bit of the way through lowercase Wingdings already.\w8\w8\s[0] The star signs are some of the most fun to write,\w4 in my opinion,\w4 so have some fun practicing them on paper.\x"
	--
	OnTeachWD
}

Select.WDLesson7 //j-k
{
	"\0\s[111]There are only two ornaments;\w4 %(wdf)%(bigf)j%(reg) and %(wdf)%(bigf)k%(reg).\w8\w8\n\n\s[0]%(wdf)%(bigf)j%(reg) is j,\w4 which you can remember by writing them next to each other like so:\w4 j%(wdf)j%(reg),\w4 to see the word jet.\w8\w8\n\n\s[106]%(wdf)%(bigf)k%(reg) is a fancy ampersand.\w8\w8\s[0] If you remember what j is,\w4 you can just remember that k comes right after it.\x"
	--
	OnTeachWD
}

Select.WDLesson8 //l-r
{
	"\0\s[106]The shapes are the absolute hardest part of lowercase Wingdings.\w8\w8\s[107] I'll split them into three parts,\w4 circles,\w4 squares,\w4 and diamonds.\x"
	--
	"\0\s[0]First up are the circles,\w4 of which there are only two.\w8\w8\n\n%(wdf)%(bigf)l%(reg) is an l,\w4 a p%(bold)L%(reg)ain,\w4 fi%(bold)LL%(reg)ed-in circle.\w8\w8\n\n\s[111]Next is %(wdf)%(bigf)m%(reg),\w4 my personal favorite of the shapes.\w8\w8\s[0] I think of it as the %(bold)M%(reg)oon eclipsing the sun.\x"
	--
	"\0\s[106]Now it gets difficult.\w8\w8\n\n\s[111]%(wdf)%(bigf)n%(reg) is an n,\w4 which I think of as being a %(bold)N%(reg)ew canvas,\w4 ready to paint on.\w8\w8\n\n\s[0]%(wdf)%(bigf)o%(reg) is an o,\w4 and it looks a bit like an o,\w4 just square.\w8\w8\n\n\s[102]%(wdf)%(bigf)p%(reg) is very similar to o,\w4 much like in uppercase.\w8\w8\s[0] This time it's an o,\w4 but with thick %(bold)P%(reg)adding.\w8\w8\n\n\s[102]Next we have %(wdf)%(bigf)q%(reg),\w4 or q,\w4 which is two s%(bold)Q%(reg)uares,\w4 one up %(bold)Q%(reg)uite high.\w8\w8\n\n\s[111]And last,\w4 but not least,\w4 is %(wdf)%(bigf)r%(reg),\w4 for r.\w8\w8 It's a lot like q,\w4 but down on the g%(bold)R%(reg)ound instead.\x"
	--
	"\0\s[106]I'll continue with diamonds in the next lesson,\w4 there are too many shapes to put them all together.\x"
	--
	OnTeachWD
}

Select.WDLesson9 //s-w
{
	"\0\s[104]You're almost through the shapes!\w8\w8\s[0] Just one more group to go; the diamonds.\x"
	--
	"\0\s[111]First is %(wdf)%(bigf)s%(reg),\w4 for s,\w4 which is a %(bold)S%(reg)mall,\w4 thin diamond.\w8\w8\s[106] There's another small diamond coming up,\w4 but s is the thin one.\w8\w8\n\n\s[0]Then there's %(wdf)%(bigf)t%(reg) for t.\w8\w8\s[111] This one is %(bold)T%(reg)all and %(bold)T%(reg)hin,\w4 like s but taller.\w8\w8\n\n\s[104] Next is %(wdf)%(bigf)u%(reg),\w4 for u.\w8\w8\s[111] Technically,\w4 it's not a diamond,\w4 it's a rhomb%(bold)U%(reg)s.\w8\w8\n\n\s[0]v is a %(wdf)%(bigf)v%(reg),\w4 a collection of %(bold)V%(reg)ery small diamonds.\w8\w8\n\n\s[104]And finally we have %(wdf)%(bigf)w%(reg) for w,\w4 in this case for a %(bold)W%(reg)inner like you for making it this far.\x"
	--
	"\0\s[106]That's the worst of it right there,\w4\s[104] just one more set of characters to go,\w4 and they're very easy.\x"
	--
	OnTeachWD
}
Select.WDLesson10 //x-z
{
	"\0\s[104]Final stretch for learning lowercase!\w8\w8\s[0] This is much easier than the last sets,\w4 by far.\x"
	--
	"\0\s[111]%(wdf)%(bigf)x%(reg) is an x,\w4 you can tell because it's a box with an x in it.\w8\w8\s[103] Couldn't be simpler,\w4 right?\w8\w8\n\n\s[0]%(wdf)%(bigf)y%(reg) is y,\w4 and is very similar.\w8\w8\s[102] This time,\w4 though,\w4 it's got a little arrow pointing to the sk%(bold)Y%(reg).\w8\w8\n\n\s[103]And the very last symbol is %(wdf)%(bigf)z%(reg),\w4 for z,\w4 which I don't know how to describe other than calling it a very %(bold)Z%(reg)any symbol.\x"
	--
	"\0\s[104]And that's it,\w4 well done for getting through all that!\w8\w8\s[106] Lowercase takes a lot of practice to remember since a lot of the symbols are so similar,\w4\s[104] but they're much simpler to draw with pen and paper.\w8\w8\s[104] Give it a try sometime.\x"
	--
	OnTeachWD
}

Select.WDLesson11 //0-9
{
	"\0\s[106]Unfortunately,\w4 I have even fewer mnemonics for numbers and punctuation than I do for lowercase.\w8\w8\s[107] I'll go through numbers and the most common punctuation,\w4 if you want to know the rest you'll have to memorize them off the Wingdings chart.\x"
	--
	"\0\s[111]First up are the files.\w8\w8 %(wdf)%(bigf)0%(reg),\w4 0,\w4 is a cl%(bold)O%(reg)sed folder,\w4 while %(wdf)%(bigf)1%(reg),\w4 1,\w4 is an open %(bold)ONE%(reg).\w8\w8\n\n\s[0]%(wdf)%(bigf)2%(reg),\w4 2,\w4 is a paper with the corner turned down,\w4 while %(wdf)%(bigf)3%(reg),\w4 3,\w4 is a flat page,\w4 and %(wdf)%(bigf)4%(reg),\w4 4,\w4 is a whole stack of of papers piling up.\w8\w8\n\n\s[106]%(wdf)%(bigf)5%(reg),\w4 5,\w4 gets exponentially bigger and is a two drawer filing cabinet.\x"
	--
	"\0\s[107]%(wdf)%(bigf)6%(reg),\w4 6,\w4 is the oddball one here.\w8\w8\s[111] It's an hourglass,\w4\s[106] which I suppose could be like the loading symbol on a Windows computer.\w8\w8\n\n\s[0]%(wdf)%(bigf)7%(reg),\w4 7,\w4 is a keyboard,\w4 and %(wdf)%(bigf)8%(reg) is a mouse.\w8\w8\s[107]%(wdf)%(bigf)9%(reg) is a trackball,\w4 which it's probably unlikely you've even seen before.\x"
	--
	"\0\s[106]I wish I had a better way to teach you numbers,\w4 but you'll just have to memorize them the hard way.\w8\w8\s[0] I can quiz you on just numbers,\w4 if you'd like,\w4 just pick it in the cases menu.\x"
	--
	OnTeachWD
}

Select.WDLesson12 // ,.!?':;-
{
	"\0\s[107]We only have 8 symbols to learn here,\w4 just the most basic ones that you're likely to use and see in use.\w8\w8\s[0] These may be a little tricky,\w4 but many of them can be inferred from context anyways.\x"
	--
	"\0\s[111]First are %(wdf)%(bigf),%(reg) and %(wdf)%(bigf).%(reg)\w8\w8\n\n%(wdf)%(bigf),%(reg) is a comma,\w4 with the mailbox closed and the flag down.\w8\w8\n\n%(wdf)%(bigf).%(reg) is a period,\w4 with the mailbox open and full.\w8\w8\n\n\s[0]%(wdf)%(bigf)!%(reg),\w4 an exclamation point,\w4 is a pencil;\w4 it looks a bit like a pencil standing on its end,\w4 doesn't it?\w8\w8\n\n\s[102]%(wdf)%(bigf)?%(reg) is a question mark,\w4 and is one of the only hands to appear outside of uppercase.\w8\w8\s[110] It's very important that the pencil is pointing towards the left,\w4\s[106] pointing to the right is an @ symbol.\x"
	--
	"\0\s[104]Halfway through.\w8\w8\n\n\s[0]%(wdf)%(bigf)'%(reg) is an apostrophe,\w4 you'll see this candle a lot in contractions and posessive names.\w8\w8\n\n%(wdf)%(bigf)-%(reg) is a dash,\w4 this mailbox is closed with the flag up.\w8\w8\n\n\s[111]Finally,\w4 we have colon and semicolon.\w8\w8\n\n%(wdf)%(bigf):%(reg),\w4 colon,\w4 is an old desktop computer,\w4 and it's friend semicolon,\w4 %(wdf)%(bigf);%(reg)\w4, is a harddrive to go into that computer.\x"
	--
	"\0\s[104]And that's all!\w8\w8\s[103] Congratulations,\w4 you've learned all you need to know to read most Wingdings.\w8\w8\s[0] If you want to learn the rest of the symbols,\w4 I would again encourage you to look at the Wingdings chart,\w4 or to play some quizzes with punctuation turned on.\w8\w8\n\n\s[104]Either way,\w4 well done for making it this far,\w4 it makes me happy to see someone interested enough to try learning this much.\x"
	--
	OnTeachWD
}

/* //I can't think of anything to put for these... if I come up with something later, I'll fill them in
Select.WDLesson13 // `-=
{
	--
	OnTeachWD
}

Select.WDLesson14 // ~!@#$%^&*()_+
{
	--
	OnTeachWD
}

Select.WDLesson15 // []\;',./
{
	--
	OnTeachWD
}

Select.WDLesson16 // {}|:"<>?
{
	--
	OnTeachWD
}
*/

//-----Wingdings Practice Mode-----
Select.practicemodeinfo
{
	if teachFont == "Wingdings"
	{
		"\0\s[114]Ah,\w4 if you'd like,\w4 I can mix in some %(teachFont) during our conversations to help you practice.\w8\w8\s[0] The higher the difficulty,\w4 the more words I'll change.\w8\w8\n\n\s[114]Or,\w4 you can try Wingdings Only mode and I'll use Wingdings exclusively.\w8\w8\s[102] Just let me know what you'd prefer.\w8\w8\1%(catnoises).\0\x"
	}
	else
	{
		"\0\s[114]Ah,\w4 if you'd like,\w4 I can mix in some %(teachFont) during our conversations to help you practice.\w8\w8\s[0] The higher the difficulty,\w4 the more words I'll change.\w8\w8\n\n\s[114]Or,\w4 you can try %(teachFont) mode and I'll use mostly %(teachFont).\w8\w8\s[102] Just let me know what you'd prefer.\w8\w8\1%(catnoises).\0\x"
	}
	--
	OnWingdingsMenu
}

Select.ToggleTeach
{
	if WDOnly != 0
	{
		WDOnly = 0
	}
	--
	if teachWD == "Off"
	{
		teachWD = "Easy"
	}
	elseif teachWD == "Easy"
	{
		teachWD = "Med"
	}
	elseif teachWD == "Med"
	{
		teachWD = "Hard"
	}
	else
	{
		teachWD = "Off"
	}
	--
	OnWingdingsMenu
}

//-----Tooltips toggle-----
Select.ToggleTooltips
{
	if tooltips != "On"
	{
		tooltips = "On"
	}
	else
	{
		tooltips = "Off"
	}
	--
	OnWingdingsMenu
}

//------Toggle wingdings-------

Select.toggleWD
{
	if teachWD != "Off"
	{
		teachWD = "Off"
	}
	--
	if WDOnly != 1
	{
		WDOnly = 1
	}
	else
	{
		WDOnly = 0
	}
	--
	OnWingdingsMenu
}

OnFontMenu
{
	fontarray[0] = 1
	editfont = "None"
	_userfonts = ""
	_userfontcount = ARRAYSIZE(userfont)
	if SUBSTR(userfont,0,1) == ","; {userfont = ERASE(userfont,0,1)}
	_i = 0
	while _i < _userfontcount
	{
		_userfonts += "\n\![*]\q[%(userfont[_i]),fontUser,%(userfontsize[_i])]  \q[(Edit),editFont,%(_i)]"
		_i++
	}
	
	if teachFont == ""; {teachFont = "Wingdings"}
	"\_q%(wdcb)\![set,autoscroll,disable]\0\s[114]%(t)You want to learn something other than Wingdings? Sure## I can help.]\n\n"
	--
	"Current font: %(teachFont)\n\n[half]\![*]\q[Back to Wingdings,fontWingdings]\n"
	--
	"%(_userfonts)"
	--
	"\n\n\![*]\q[Add a new font,OnInstalledFonts]\n\![*]\q[Remove a font,OnRemoveFont]\n\n"
	--
	"\![*]\q[Back to %(teachFont) Menu,OnWingdingsMenu]"
}

Select.fontWingdings
{
	teachFont = "Wingdings"
	--
	OnFontMenu
}

//Pretty sure all I gotta do is set a variable to say it's from this list rather than from manual input, and then the rest of the functions should work fine. Just gotta set up the menu, that's easy. I need it to have the list and at the top offer the choice to type one manually
OnInstalledFonts
{
	fromFont = "List"
	//fontarray = IARRAY
	//_ii = 2
	_fonts = ""
	if fontsort == "Descending"
	{
		_i = (fontcount - 1)
		while _i > -1
		{
			_fonts += "\n\n[half]\f[name,%(fontlist[_i])]\![*]\q[%(fontlist[_i]),OnFontStart,%(fontlist[_i])]\f[default] (%(fontlist[_i]))"
			_i--
		}
	}
	else
	{
		//This is a system for having it split onto multiple pages. It works great (needs some polish but definitely works) but idk if it's actually better than the list. Gonna leave it here for future reference.
		/*_i = 0
		_iii = 0
		while _i < fontcount
		{
			fontarray[_ii] += "\n\n[half]\f[name,%(fontlist[_i])]\![*]\q[%(fontlist[_i]),OnFontStart,%(fontlist[_i])]\f[default] (%(fontlist[_i]))"
			_i++
			_iii++
			if _iii >= 10
			{
				_iii = 0
				_ii++
			}
		}
		fontarray[1] = ARRAYSIZE(fontarray)
		fontarray[1] -= 2 //Getting the amount of pages we have*/
		_i = 0
		while _i < fontcount
		{
			_fonts += "\n\n[half]\f[name,%(fontlist[_i])]\![*]\q[%(fontlist[_i]),OnFontStart,%(fontlist[_i])]\f[default] (%(fontlist[_i]))"
			_i++
		}
	}
	--
	//FontArrayDisplay
	"\0%(wdcb)\_q\![set,autoscroll,disable]\![*]\q[Enter a name manually,OnNewFont]\n"
	--
	if fontsort == "Descending"
	{
		"\![*]\q[Change to ascending order,reverseFontList]"
	}
	else
	{
		"\![*]\q[Change to descending order,reverseFontList]"
	}
	--
	"\n\![*]\q[Back to %(teachFont) Menu,OnWingdingsMenu]\n%(_fonts)"
	--
	"\n\n\![*]\q[Enter a name manually,OnNewFont]\n"
	--
	if fontsort == "Descending"
	{
		"\![*]\q[Change to ascending order,reverseFontList]"
	}
	else
	{
		"\![*]\q[Change to descending order,reverseFontList]"
	}
	--
	"\n\![*]\q[Back to %(teachFont) Menu,OnWingdingsMenu]"
}

Select.reverseFontList
{
	if fontsort != "Descending"
	{
		fontsort = "Descending"
	}
	else
	{
		fontsort = "Ascending"
	}
	--
	OnInstalledFonts
}

FontArrayDisplay
{
	"\0%(wdcb)\_q\![set,autoscroll,disable]"
	--
	if fontarray[0] > 2
	{
		"\![*]\q[Previous,OnPrevFontPage]"
	}
	--
	if fontarray[0] < fontarray[1]
	{
		"\_l[100]\![*]\q[Next,OnNextFontPage]"
	}
	--
	"\n%(fontarray[fontarray[0]])\x"
}

OnNextFontPage
{
	fontarray[0]++
	FontArrayDisplay
}

OnPrevFontPage
{
	fontarray[0]--
	FontArrayDisplay
}

OnNewFont
{
	fromFont = "Typed"
	"\0\_q%(wdcb)* (Please enter the exact name of an installed font.)\*\t\![set,balloontimeout,-1]\![open,inputbox,OnFontStart]\n\n\![*]\q[Nevermind,OnFontCancel]"
}

OnFontStart
{
	fontinput = reference0
	fontsize = 14
	--
	OnFontCheck
}

OnFontCheck
{
	"\_q\b2\f[height,%(fontsize)]\f[name,%(fontinput)]Example - EXAMPLE - example\n\n%(reg)* (Does the above text look correct?)\n\n\![*]\q[Yes,fontadd]\n"
	--
	if fromFont == "Typed"
	{
		"\![*]\q[No,OnNewFont]"
	}
	else
	{
		"\![*]\q[No,OnInstalledFonts]"
	}
	--
	"\n\![*]\q[Change size,script:\![open,sliderinput,OnFontSizeCustom,-1,14,3,100\]]\n\n\![*]\q[Cancel,OnFontMenu]"
}

Select.fontadd
{
	if editfont == "None"
	{
		userfont ,= "%(fontinput)"
		userfontsize ,= "%(fontsize)"
	}
	else
	{
		if teachFont == userfont[editfont]
		{
			teachFont = "%(fontinput)"
			teachFontSize = "%(fontsize)"
		}
		userfont[editfont] = "%(fontinput)"
		userfontsize[editfont] = "%(fontsize)"
	}
	--
	OnFontMenu
}

Select.fontSizeUp
{
	fontsize++
	OnFontCheck
}

Select.fontSizeDown
{
	fontsize--
	OnFontCheck
}

OnFontSizeCustom
{
	fontsize = TOINT(reference0)
	OnFontCheck
}

OnFontCancel
{
	"\![close,inputbox,OnFontStart]"
	--
	OnFontMenu
}

OnRemoveFont
{
	_userfonts = ""
	_userfontcount = ARRAYSIZE(userfont)
	if SUBSTR(userfont,0,1) == ","; {userfont = ERASE(userfont,0,1)}
	_i = 0
	while _i < _userfontcount
	{
		_userfonts += "\n\![*]\q[%(userfont[_i]),fontRemove,%(_i)]"
		_i++
	}
	
	"%(medf)\b2* (Click a font to remove it.)%(reg)\n\n"
	--
	"%(_userfonts)"
	--
	"\n\n\![*]\q[Back to Font Menu,OnFontMenu]"
}

//=====================================End of Wingdings Menu=====================================



//========================Functions Menu===============================

OnFunctionMenu
{
 	"\0\s[0]\_q%(wdcb)%(t)Sure## what did you need me to do?]\n\n* (You ask him to...)\n\n"
	--
 	"\![*]\q[Call another ghost,OnGhostMenu]\n/
	\![*]\q[Check the weather,OnWeatherCheck,menu]\n/
	\![*]\q[Check Email,MailCheck]\n/
	\![*]\q[Open Calendar,CALENDAR]\n/
	\![*]\q[Open SSP Preferences,sspconfig]\n/
	\![*]\q[Empty Recycle Bin,ChoiceGarbagecan]\n/
	\![*]\q[System Information,ChoiceSystemInformation]\n\n/
	\![*]\q[Report a bug,bugreport]\n\n/
	\![*]\q[Check for updates,startupdatecheck]\n/
	\![*]\q[Show the changelog,OnChangelog,frommenu]\n\n/
 	\![*]\q[Back to main menu,BACKTOMENU]\e"
}

OnGhostMenu
{
	GhostsAvailable = IARRAY
	_ghostlist = ""
	installedcount = ARRAYSIZE(installedghostlist)
	if (installedcount - ghostexcount) > 1
	{
		//_rand = RAND(installedcount)
		//_randGhost = installedghostlist[_rand]

		_i = 0
		while _i < installedcount
		{
			if installedghostlist[_i] != "Dusty and Obsidian"
			{
				_ghostlist += "\n\![*]\q[%(installedghostlist[_i]),callGhost]" //callGhost leads over to OnChoiceSelectEx in etc.dic
				GhostsAvailable ,= "%(installedghostlist[_i])"
			}
			_i++
		}
		//if SUBSTR(GhostsAvailable,0,1) == ","; {GhostsAvailable = ERASE(GhostsAvailable,0,1)} //Erases the first comma if there is one
		GhostsAvailCount = ARRAYSIZE(GhostsAvailable)
		/*_ghostlist = ""
		installedcount = ARRAYSIZE(installedghostlist)
		_i = 0
		while _i < installedcount
		{
			_current = "%property[rateofuselist.index(%(_i)).name\]"
			_current2 = "%(_current)"
			_ghostlist += "\n\n[half]%property[rateofuselist.index(%(_i)).name] \q[(Call),callGhost,%(_current2)] Boots: %property[rateofuselist.index(%(_i)).boottime] Runtime: %property[rateofuselist.index(%(_i)).percent]"
			_i++
		}*/
		
		--
		"\0%(wdcb)\s[550]\![set,autoscroll,disable]\*\![set,balloontimeout,-1]\_q%(t)Who would you like me to call here?]\n"
		--
		if (installedcount - ghostexcount) > 3
		{
			"\n\![*]\q[Surprise me!,callGhostRand,%(_randGhost)]"
		}
		--
		"\n%(_ghostlist)"
		--
		"\n\n\![*]\q[Back to Functions Menu,OnFunctionMenu]\n\![*]\q[Nevermind,cancelnodialogue]\e"
	}
	else
	{
		"\0\s[106]%(t)Everyone is here already.]\w8\w8\1%(sCatNoises)\0\n\n\![*]\q[Back to Functions Menu,OnFunctionMenu]\n\![*]\q[Nevermind,cancelnodialogue]\e"
	}
}

Select.callGhostRand
{
	GhostRand = RAND(GhostsAvailCount)
	GhostToCall = GhostsAvailable[GhostRand]
	
	"\![get,property,OnRandCallCheck,ghostlist(%(GhostToCall)).sakuraname]"
}

OnRandCallCheck
{
	if reference0 !_in_ ghostexlist
	{
		"\0\s[550]%(t)A surprise##\w4 eh?\w8\w8\s[500\] Alright.]"
		--
		"\![call,ghost,%(GhostToCall)]\e"
		callingGhost = 1
	}
	else
	{
		GhostsAvailable[GhostRand] = IARRAY
		GhostsAvailCount = ARRAYSIZE(GhostsAvailable)
		GhostRand = RAND(GhostsAvailCount)
		GhostToCall = GhostsAvailable[GhostRand]
		if GhostsAvailable[GhostRand] == ""
		{
			"\0\s[106]%(t)Sorry##\w4 something went wrong.]\e"
		}
		else
		{
			"\![get,property,OnRandCallCheck,ghostlist(%(GhostToCall)).sakuraname]"
		}
	}
}

OnWeatherCheck
{
	weatherquiet = 0
	if reference0 == "menu"
	{
		fromfunctionmenu = 1
	}
	--
	if curlocation == "" || curlocation == "Set a location"
	{
		"\_q%(wdc)%(t)You don't have a location set. Are you in the USA?]\n\n"
		--
		"\![*]\q[In the USA,OnUSALoc]\n/
		\![*]\q[Outside the USA,OnOtherLoc]\n\n/
		\![*]\q[Nevermind,OnFunctionMenu]\e"
	}
	else
	{
		//"\0\s[500]%(wdc)Alright,\w4 give me just a moment.\w8\w8\![raise,OnDownloadCurWeather]"
		"\0\s[500]%(wdc)%(t)Alright##\w4 let's see##]\w4 %(curlocation)...\w8\w8\![raise,OnDownloadCurWeather]"
		"\0\s[500]%(wdc)%(t)Ok##\w4 let me check.\w8\w8 Hmm##\w4] %(curlocation)...\w8\w8\![raise,OnDownloadCurWeather]"
	}
}

Select.CALENDAR
{
	"%(wdc)\0\s[0]%(t)Sure## here's the calendar.]\![open,calendar]\e"
}


Select.MailCheck
{
	"\![biff]\e"
}

Select.sspconfig
{
	"%(wdc)\0\s[0]%(t)Sure## here's the preferences menu.]\![open,configurationdialog]\e"
}

Select.ChoiceGarbagecan
{
	_gomicheck = FUNCTIONEX("gomi.dll", "-n")
	
	if sHoldObsidian == 1
	{
		if _gomicheck == 0 //If the recycle bin is empty.
		{
			"\0\s[102].\w8.\w8.\w8\w8\w8\s[106]%(t)It's already empty.]\e"
		}
		else
		{
			"\0\s[0]%(t)Alright##\w4 just a moment.]\w8\w8\s[-1]\w8\w8\n\n.\w8.\w8.\w8\w8\![raise,OnGarbagecanEmpty]\n\n\s[0]%(t)Done##\w4 emptied] %(_gomicheck) items.\e"
		}
	}
	else
	{
		if _gomicheck == 0 //If the recycle bin is empty.
		{
			"\1\s[-1]%(catnoises)!\w8\0%(wdc)\s[110]Ah-\w8 %(wdf)OBSIDIAN,\w4 COME BA\s[-1]CK HERE..!%(reg)\w8\w8\w8\w8\n\n.\w1.\w1.\w1.\w1.\w1.\w8\w8\w8\w8\w8\w8\1\s[10]\c\0\s[106]\c%(t)Your recycle bin was already empty.]\w8\w8\1%(catnoises).\e" //replaceframe change the coming back to be Dusty holding Obsi
		}
		elseif _gomicheck >= 1 //If the recycle bin is full.
		{
			"\1\s[-1]%(catnoises).\w8\0%(wdc)\s[110]Ah-\w4 %(wdf)OBSIDIAN,\w4 COME BA\s[-1]CK..!%(reg)\w8\w8\w8\w8\n\n.\w1.\w1.\w1.\w1.\w1.\w8\w8\w8\w8\w8\![raise,OnGarbagecanEmpty]\w8\1\s[10]\0\s[106]\c%(t)Your recycle bin has been emptied.]\w8\w8\1%(catnoises).\e" //replaceframe change the coming back to be Dusty holding Obsi
			//Somewhat similar to the above, but notice the \![raise],OnGarbagecanEmpty] tag in there. That's what actually empties the recycle bin, so make sure you don't delete that tag.
		}
	}
}

//This is for the SAORI, don't touch it.
OnGarbagecanEmpty
{
	_gomi = FUNCTIONEX("gomi.dll", "-f")
}

Select.ChoiceSystemInformation
{
	os_name = FUNCTIONEX("saori_cpuid.dll","os.name")
	os_version = FUNCTIONEX("saori_cpuid.dll","os.version")
	cpu_name = FUNCTIONEX("saori_cpuid.dll","cpu.name")
	cpu_clockex = FUNCTIONEX("saori_cpuid.dll","cpu.clockex")
	"/
	\0\s[500]%(wdcb)/
	\_qOS: %(os_name) %(os_version)\n/
	Memory Load: %(memoryload)%\n/
	Physical Memory: %(memoryavailphys) KB\n/
	CPU: %(cpu_name) %(cpu_clockex)MHz\n/
	Ukagaka: %property[baseware.version]/
	\n\n\![*]\q[Go back,OnFunctionMenu]\n\![*]\q[I'm done,cancelnodialogue]\e"
}

Select.bugreport
{
	"\0\s[103]%(wdc)%(t)Ah##\w4 thank you for your willingness to assist.\w8\w8\s[106\] Unfortunately##\w4 I cannot submit a report for you.\w8\w8\n\n\s[111\]You can contact Zichqec on \_a[https://www.deviantart.com/zichqec/\]her deviantart##\_a\w4 \_a[https://zichqec.tumblr.com/\]her tumblr##\_a\w4 or \_a[https://twitter.com/Zichqec/\]her twitter.\_a\w8\w8\n\n\s[104\]Feel free to report any bugs or typos##\w4 no matter how small.\w8\w8\s[0\] General feedback about what could be improved or what works well is also appreciated.]\w8\w8\1%(sCatNoise)"
	--
	"\0\n\n\![*]\q[Back to functions menu,OnFunctionMenu]\n\![*]\q[I'm done,cancelnodialogue]\e"
}

Select.startupdatecheck
{
	"\0%(wdc)\s[0]%(t)Ok##\w4\s[500\] I'll check for updates.]\w8\w8\![updatebymyself,checkonly]\e"
}

dustyver
{
	"1.0.9"
}

OnChangelog
{
	"\![set,autoscroll,disable]\_q\b2"
	--
	"/
	\_l[112]-Version 1.0.9-\n\n/
	-Fixed an issue where lowercase a was being translated as lowercase s in the Translate From Wingdings function.\n\n/
	-Fixed an issue where the links in the Translate From Wingdings function were overlapping improperly.\n\n/
	-Fixed an issue where Obsidian sometimes spoke in the custom font, if you had asked Dusty to change most of his dialogue to it.\n\n/
	-Fixed an issue where their blip in animations would play twice if S was present while booting.\n\n/
	-Fixed an issue where email headers were completely broken.\n\n\n/
	\_l[112]-Version 1.0.8-\n\n/
	-Made a tiny change to the code for other ghosts holding Obsidian. She should be able to jump down on either the right or left now.\n\n/
	\_l[112]-Version 1.0.7-\n\n/
	-Fixed an issue with Dusty not recognizing he'd met MiniDev if he talked to him normally.\n\n/
	-Hopefully fixed a bug where a duplicate Obsidian would appear if you updated them while she was being held by Dusty.\n\n/
	-Hopefully fixed a bug where Dusty's commu loop prevention was actually causing him to get stuck in loops...\n\n\n/
	\_l[112]-Version 1.0.6-\n\n/
	-Other ghosts will now be able to hold Obsidian, should the dev choose to make their ghost compatible! It's a lot of work, so I don't expect many devs to do it, however...\n\n/
	-\_a[https://zdzisiu.github.io/Ukagaka/md.html]MiniDev\_a can now hold Obsidian if both ghosts are up to date!\n\n/
	-Dusty also has some basic commu conversations set up with MiniDev, to hopefully be expanded at a later date.\n\n/
	-MiniDev has also been added to Dusty's submenu for talking about other ghosts!\n\n/
	-Changed the way S picking up Obsidian works. Please make sure you have both ghosts up to date before you try this! Also, if you ever have trouble with S/another ghost not picking up Obsidian anymore, reloading them seems to help.\n\n/
	-Offscreen dialogue should now happen immediately upon Dusty being moved out of bounds.\n\n/
	-Fixed a bug where timeout dialogue was happening when it shouldn't.\n\n/
	-Fixed some misc bugs and typos. Also, some code optimization. Expect a lot of optimization in 1.1.0, whenever I get to that...\n\n\n/
	\_l[112]-Version 1.0.5-\n\n/
	-Fixed a typo in the weather location dialogue.\n\n/
	\_l[112]-Version 1.0.4-\n\n/
	-Dusty's weather checking is fixed again, and there is now a toggle for Fahrenheit or Celsius in his menu. Please tell me if anything goes wrong with this!\n\n/
	-Made it so that if another ghost talks to Dusty while he's holding Obsidian, he'll ignore them. This is a placeholder dialogue to prevent weird visual bugs until I get a better fix in.\n\n/
	-Added a few new dialogues.\n\n/
	-Fixed a bug where having translation tooltips on would cause timeout messages.\n\n\n/
	\_l[112]-Version 1.0.3-\n\n/
	-Fixed a bug with S holding Obsidian.\n\n/
	\_l[112]-Version 1.0.2-\n\n/
	-Fixed the weather glitch again, it should be less of an issue from now on! If you're outside the US, you might have to reset your location.\n\n/
	-When you check the weather, Dusty will also list the time of the sunrise and sunset in your area!\n\n/
	-Auto weather checks will no longer open a balloon and will happen completely silently.\n\n/
	-Added the option to opt in to beta updates!\n\n/
	-Obsidian can now be held by \_a[https://zichqec.github.io/s-the-skeleton/s_the_skeleton.html]S\_a if you have them both up to date!\n\n/
	-Some other small bugfixes.\n\n/
	\_l[112]-Version 1.0.1-\n\n/
	-Fixed the weather glitch.\n\n/
	-If you have auto weather checks on, Dusty will now check the weather within a few minutes of booting.\n\n/
	-Improved the weather display on the main menu slightly.\n\n/
	-Fixed Dusty randomly saying 0 or 1 in his balloon.\n\n/
	-Fixed a stray pixel (with righteous indignation).\n\n/
	-Added a new menu to the font menu that displays all fonts installed on your computer in a list!\n\n/
	-Made Obsidian's window stick to Dusty if he's holding her.\n\n/
	-Random dialogue will no longer happen while you're in the middle of confiding/gushing.\n\n/
	-Fixed a bug where dialogue about your computer just wouldn't show up.\n\n/
	\_l[112]-Version 1.0.0-\n\n/
	+Added everything!\n\n\n/
	
	"
	--
	if reference0 == "frommenu"
	{
		"\![*]\q[Back to functions menu,OnFunctionMenu]\n"
	}
	--
	"\![*]\q[I'm done,cancelnodialogue]"
}

//==============================End of Function Menu==========================

//==============================Act menu======================================

Select.dosomething
{
	"%(wdc)\0\_q\s[0]\![*]\q[Check,DoACheck]\_l[100]\![*]\q[Hug,HugHim]\n/
	\![*]\q[Confide,ConfideIn]\_l[100]\![*]\q[Gush,GushTo]\n/
	\![*]\q[Comfort him,ComfortHim]/
	\n\n\![*]\q[Back to menu,BACKTOMENU]\n\![*]\q[I'm done,cancelnodialogue]"
}

Select.DoACheck
{
	"%(DustyStats)%(reg)%(actagain)"
}

Select.HugHim
{
	totalhugs++
	"\0%(wdc)"
	--
	"* (You ask him for a hug.)"
	"* (You ask him if you can have a hug.)"
	"* (You ask if you can hug him.)"
	"* (You ask if he can give you a hug.)"
	"* (You tell him you need a hug.)"
	"* (You say you'd like a hug.)"
	--
	"\w8\w8\n\n"
	--
	"\s[104]"
	"\s[103]"
	"\s[102]"
	--
	"%(t)"
	--
	"Of course##]\w4 %(username)."
	"Always##]\w4 %(username)."
	"I'd be glad to##]\w4 %(username)."
	--
	"\w8\w8\s[112]\n\n"
	--
	"* (You feel a slight tingle of numbness as you hug him.)"
	"* (Feels oddly cold.)"
	"* (Feels hardly there.)"
	"* (Feels a little fragile.)"
	"* (Feels numb.)"
	"* (Feels boney.)"
	"* (Cat fur sticks to you as you pull away.)"
	"* (Feels like static.)"
	"* (Feels dusty.)\w8\w8\n\n* (As the name would imply.)"
	"* (Feels like he's about to fall apart.)"
	"* (Feels gray.)"
	"* (Feels null.)"
	if nowshell == "blue_sweater"
	{
		"* (Feels blue.)"
	}
	--
	"%(actagain)"
}

Select.ConfideIn
{
	"%(wdc)"
	--
	"\0\b2\s[110]%(t)Oh##\w4 is there something you wanted to tell me?]"
	"\0\b2\s[110]%(t)Oh##\w4 what was it you wanted to tell me?]"
	--
	"\n\n\![*]\q[I'm sad,script: \![set,balloontimeout,0\]* (He's listening closely.)\*\![open,inputbox,OnConfideSad,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]\n/
	\![*]\q[I'm scared,script: \![set,balloontimeout,0\]* (He's listening closely.)\*\![open,inputbox,OnConfideScared,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]\n/
	\![*]\q[I'm frustrated,script: \![set,balloontimeout,0\]* (He's listening closely.)\*\![open,inputbox,OnConfideFrustrated,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]\n/
	\![*]\q[I'm empty,script: \![set,balloontimeout,0\]* (He's listening closely.)\*\![open,inputbox,OnConfideEmpty,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]\n/
	\![*]\q[Other,script: \![set,balloontimeout,0\]* (He's listening closely.)\*\![open,inputbox,OnConfideOther,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]"
	--
	"\n\n\![*]\q[Back,dosomething]\n\![*]\q[I'm done,cancelnodialogue]"
}

OnConfideSad
{
	confided++
	"%(wdc)"
	--
	"\0\s[109]* (He listens somberly to every word,\w4 then nods.)\w8\w8\n\n\s[108]%(t)That sounds terrible##\w4 %(username).\w8\w8\s[109\] I hope things will start to look up for you soon...]"
	"\0\s[108]* (He listens to every word,\w4 nodding along as you speak.)\w8\w8\n\n%(t)I'm sorry you're going through this##\w4 %(username).\w8\w8\s[106\] It's ok to cry##\w4 if you need to.\w8\w8\s[109\] Allowing yourself to feel your emotions is an important step in healing.]"
	--
	"%(actagain)"
}

OnConfideScared
{
	confided++
	"%(wdc)"
	--
	"\0\s[206]* (He listens carefully,\w4 looking thoughtful.)\w8\w8\n\n\s[109]%(t)That does sound frightening##\w4  %(username).\w8\w8\s[106] If I can be a comforting presence for you##\w4 I would be glad to help in any way I can.]"
	"\0\s[206]* (He looks worried as you finish.)\w8\w8\n\n\s[108\]%(t)Take care of yourself##\w4 %(username).\w8\w8\s[200] You may not be able to control many of the things that scare you##\w4\s[108\] but taking care of yourself is within your own abilities and influence.\w8\w8\n\n\s[106\]Be kind to yourself today##\w4 ok?]"
	--
	"%(actagain)"
}

OnConfideFrustrated
{
	confided++
	"%(wdc)"
	--
	"\0\s[109]* (He listens carefully,\w4 sighing a little as you finish.)\w8\w8\n\n\s[107]%(t)Honestly##\w4 hearing that##\w4 I feel a little frustrated for you.\w8\w8\s[108\] I'm sorry you're going through this##\w4 %(username).\w8\w8\n\n\s[208]It might be a good idea to distance yourself from this a little##\w4 if you can?\w8\w8\s[106\] Experiencing anger is normal and healthy##\w4 just try not to let it sour your whole day.]"
	"\0\s[108](He listens to every word,\w4 nodding along.)\w8\w8\n\n\s[109]%(t)That does sound very frustrating.\w8\w8 I'm sorry you have to deal with this##\w4 %(username).\w8\w8\s[106\] Just try not to let your frustration completely consume you.\w8\w8\s[107\] That wouldn't be good for anyone##\w4 least of all you.]"
	--
	"%(actagain)"
}

OnConfideEmpty
{
	confided++
	"%(wdc)"
	--
	"\0\s[109]* (He listens solemnly.)\w8\w8\n\n%(t)I understand more than you may think.\w8\w8\s[108\] I hope you'll start to feel better soon##\w4 %(username).\w8\w8\s[109\] It's a very difficult thing##\w4 when you have trouble feeling at all...]"
	"\0\s[109]* (He listens,\w4 utterly silent.)\w8\w8\n\n%(t)I understand##\w4 %(username).\w8\w8\s[108\] I'm here to talk if you need##\w4 as much as I can.\w8\w8\s[106\] Though##\w4 if you can find anyone else to talk to##\w4 they could give you better help than I can.]"
	--
	"%(actagain)"
}

OnConfideOther
{
	confided++
	"%(wdc)"
	--
	"\0\s[108]* (He listens very carefully to every word,\w4 then nods sincerely.)"
	"\0\s[110]* (He listens to every word,\w4\s[114] then nods reassuringly.)"
	"\0\s[106]* (He listens intently,\w4 nodding along as you talk.)"
	"\0\s[106]* (He listens quietly.)\w8\w8\n\n* (Your secrets are safe with him.)"
	--
	"%(actagain)"
}

Select.GushTo
{
	"%(wdc)"
	--
	"\0\b2\_q* (You tell him about...)"
	--
	"\n\n\![*]\q[A project,script: \![set,balloontimeout,0\]\s[114\]* (He smiles encouragingly.)\*\![open,inputbox,OnGushProject,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]\n/
	\![*]\q[An accomplishment,script: \![set,balloontimeout,0\]\s[114\]* (He smiles encouragingly.)\*\![open,inputbox,OnGushAccomplish,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]\n/
	\![*]\q[A good event,script: \![set,balloontimeout,0\]\s[114\]* (He smiles encouragingly.)\*\![open,inputbox,OnGushEvent,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]\n/
	\![*]\q[An interest,script: \![set,balloontimeout,0\]\s[114\]* (He smiles encouragingly.)\*\![open,inputbox,OnGushInterest,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]\n/
	\![*]\q[Other,script: \![set,balloontimeout,0\]\s[114\]* (He smiles encouragingly.)\*\![open,inputbox,OnGushOther,-1\]\t\_l[10000\]\q[ ,youShouldNeverSeeThis\]]"
	--
	"\n\n\![*]\q[Back,dosomething]\n\![*]\q[I'm done,cancelnodialogue]"
}

OnGushProject
{
	gushed++
	"%(wdc)"
	--
	"\0\s[102]* (He listens closely.)\w8\w8\n\n\s[114]%(t)That sounds great##\w4 %(username).\w8\w8\s[104\] You must be pretty dedicated to work on something like that.]"
	"\0\s[114]* (He listens closely,\w4 intrigued.)\w8\w8\n\n\s[104]%(t)That sounds like fun##\w4 %(username).\w8\w8\s[0\] I'm glad you've found something that you enjoy working on so much.]"
	--
	"%(actagain)"
}

OnGushAccomplish
{
	gushed++
	"%(wdc)"
	--
	"\0\s[0]* (He listens to every detail,\w4 waiting until you finish to comment.)\w8\w8\n\n\s[104]%(t)That sounds wonderful##\w4 %(username).\w8\w8\s[104\] You should be proud of yourself for putting in the work to make this happen.\w8\w8\s[104\] I'm proud of you.]\w8\w8\1%(sCatNoise)\0"
	"\0\s[0]* (He listens carefully,\w4 paying close attention to every word.)\w8\w8\n\n\s[104]%(t)Well done##\w4 %(username).\w8\w8\s[114\] That sounds like a lot of work##\w4 but you've managed to make it happen in the end.\w8\w8\s[104\] You should be proud.]"
	--
	"%(actagain)"
}

OnGushEvent
{
	gushed++
	"%(wdc)"
	--
	"\0\s[114]* (He nods along as you tell him what happened.)\w8\w8\n\n\s[104]%(t)That's wonderful##\w4 %(username).\w8\w8\s[103\] I'm glad you had such a good experience.]"
	"\0\s[104]* (He smiles as you describe what happened.)\w8\w8\n\n\s[114]%(t)That's great##\w4 %(username).\w8\w8\s[104\] I'm glad you could have such a good day.]"
	--
	"%(actagain)"
}

OnGushInterest
{
	gushed++
	"%(wdc)"
	--
	"\0\s[114]* (He pays very close attention as you tell him all about it.)\w8\w8\n\n\s[104]%(t)That sounds great##\w4 %(username).\w8\w8\s[0\] I'm glad you've found something to be so passionate about##\w4 your dedication is impressive.]"
	"\0\s[104]* (He nods encouragingly as you tell him all the juicy details.)\w8\w8\n\n\s[103]%(t)It sounds like you're having fun##\w4 %(username).\w8\w8\s[104\]I'm glad you're enjoying this so much.]"
	--
	"%(actagain)"
}

OnGushOther
{
	gushed++
	"%(wdc)"
	--
	"\0\s[114]* (He listens closely as you tell him all about it.)\w8\w8\n\n\s[104]* (When you've finished,\w4 he smiles and nods)\w8\w8\n\n\s[103]%(t)That sounds great##\w4 %(username).\w8\w8\s[104\] I'm glad you're so excited about it.]"
	"\0\s[102]* (He listens to every word,\w4 letting you speak your heart.)\w8\w8\n\n\s[104]%(t)That sounds wonderful##\w4 %(username).\w8\w8\s[103\] I'm glad you're enjoying it so much.]"
	--
	"%(actagain)"
}

Select.ComfortHim
{
	"%(wdc)"
	--
	"\0\s[106]* (You tell Dusty that he isn't alone,\w4 and that you'll keep him company.)\w8\w8\n\n\s[104]%(t)Ah##\w4 thank you %(username)##\w4\s[103\] I do greatly appreciate you bringing me here.]"
	"\0\s[106]* (You try to comfort him about his current HP situation.)\w8\w8\n\n\s[107]%(t)Ah##\w4 I appreciate the thought##\w4 %(username)##\w4\s[106\] but I've accepted my fate.\w8\w8\s[104\] Even if I'm stuck in the void##\w4 I can still do a few small things to help my friends.\w8\w8\s[205\] Things that I'm uniquely equipped to do##\w4 thanks to the void.]"
	"\0\s[106]%(t)%(username)##\w4 I appreciate that you want to help me##\w4 but I promise I'm alright.\w8\w8\s[104\] I try not to worry too much about things I can't change.]"
	--
	"%(actagain)"
}

actagain
{
	"\n\n\![*]\q[Do something else?,dosomething]\n\![*]\q[I'm done,cancelnodialogue]"
}
//==========================End of Act menu===================================



//==========================Start of Item menu================================
/* //Maybe some day I'll change my mind, but for now I'm commenting this whole thing out. This was planned to be an item menu for Dusty, but then I decided I didn't like any of the ideas I had for it, and I wanted to put his Wingdings menu on the main menu instead anyways
ItemMenu
{
	"\_q\b2* (You give him...)\n\n/
	\![*]\q[Something soft,ItemSoft]\n/
	\![*]\q[Puzzles,ItemPuzzle]\n/
	\![*]\q[A snack,ItemFood]\n/
	\![*]\q[A book,ItemBook]\n/
	\![*]\q[Something for Obsidian,ItemCat]\n/
	\![*]\q[Music,ItemMusic]\n"
	--
	if KnowAboutHeatpack == 1
	{
		"\![*]\q[A heat pack,ItemHeat]\n"
	}
	--
	if KnowAboutPainkillers == 1
	{
		"\![*]\q[Some painkillers,ItemPainkiller]\n"
	}
	--
	"\n\![*]\q[Back to menu,BACKTOMENU]\n\![*]\q[I'm done,cancelnodialogue]"
}

Select.ItemSoft
{
	--
	"%(ItemReturn)"
}

Select.ItemPuzzle
{
	--
	"%(ItemReturn)"
}

Select.ItemFood
{
	--
	"%(ItemReturn)"
}

Select.ItemBook
{
	--
	"%(ItemReturn)"
}

Select.ItemCat
{
	--
	"%(ItemReturn)"
}

Select.ItemMusic
{
	if givenmusic == 0
	{
		"\0* (You hand him a portable CD player,\w4 powerable by magic.)\w8\w8\n\n\s[114]Oh,\w4 a CD player?\w8\w8\s[104] Thank you,\w4 %(username),\w4 this is a wonderful gift.\w8\w8\s[205] It will be nice to have music in the void,\w4 to keep the quiet away.\w8\w8\s[106] I can't thank you for this enough."
	}
	else
	{
		//"\0"
	}
	--
	"%(ItemReturn)"
}

Select.ItemHeat
{
	KnowAboutHeatpack = 2
	"\0* (You offer him a set of instant heat packs.)\w8\w8\n\n\s[110]Oh-\w8\s[104] Thank you %(username),\w4 this is very thoughtful of you.\w8\w8\s[113] I get the feeling I'll be sharing these with Obsidian,\w4 whether I want to or not."
	--
	"%(ItemReturn)"
}

Select.ItemPainkiller
{
	KnowAboutPainkillers = 2
	"\0* (You offer him a bottle of painkillers.)\w8\w8\n\n\s[110]Oh,\w4\s[104] thank you %(username),\w4 that's very kind of you.\w8\w8\s[106] This should help me get a few nights of rest."
	--
	"%(ItemReturn)"
}

ItemReturn
{
	"\n\n\![*]\q[Give something else?,inventory]\n\![*]\q[I'm done,cancelnodialogue]"
}

//===========================End of Item menu=================================
*/


//==============================Config Menu===================================

OnTalkConfig
{
	if hemisphere == ""; {hemisphere = "Northern"}
	if AutoWeather == ""; {AutoWeather = "OFF"}
	if autoupdate == ""; {autoupdate = "OFF"}
	if SeePC == ""; {SeePC = "OFF"}
	if betaTester == ""; {betaTester = "OFF"}
	if curlocation == ""; {menutemplocation = "Set a location"}
	if Degrees == ""; {Degrees[0] = "Fahrenheit"; Degrees[1] = "°F"}
	else; {menutemplocation = REPLACE(curlocation,",","\,")}
	--
	"%(wdc)\0\b[2]\_q\![set,autoscroll,disable]\_l[125]---Config---\n\n"
	--
	"Your name:\f[bold,0] %(username) \f[sup,1](\q[Change it?,TEACHNAME])\f[sup,0]\n"
	--
	"Your pronouns: %(heshe)/%(himher)/%(hisher) \f[sup,1](\q[Change them?,OnTeachPronouns])\f[sup,0]\n"
	--
	"Your birthday: %(birthdayprint) \f[sup,1](\q[Change it?,TEACHBDAY])\f[sup,0]\n"
	--
	"Your hemisphere: \q[%(hemisphere),ToggleHemisphere]\n\n[half]"
	--
	"Talk Rate: %(talktime) \f[sup,1](\q[Change it,talkinter])\f[sup,0]\n\n[half]"
	--
	"\![*]Do you want him to comment on the weather? (Currently: \q[%(AutoWeather),ToggleAutoWeather])  (\q[%(Degrees[0]),ToggleDegreesConfig])"
	--
	"\nCurrent location:                      \q[(Reset location),locationreset]\n\![*]\q[%(menutemplocation),changeweatherlocation]"
	--
	"\n\n\![*]Enable auto checking for updates?\n(Currently: \q[%(autoupdate),ToggleUpdate])"
	--
	"\n\n[half]\![*]Opt in to beta updates? (Currently: \q[%(betaTester),ToggleBeta])"
	--
	"\n\n[half]\![*]Allow him to see programs and misc stats on your PC? (Currently: \q[%(SeePC),ToggleSnooping])  \q[(Info),snoopingInfo]"
	--
	"\n\n[half]\![*]Enable Uninstall? (Currently: \q[%(deleteshitai),ToggleUninstall])\n\n"
	--
	"\![*]\q[Back to the menu,BACKTOMENU]\e"
}

Select.TEACHNAME
{
	"%(wdc)"
	--
	"\0\s[110]%(t)Oh##\w4 you want to change your name?\w8\w8\s[0\] Alright##\w4 what should I call you then?]\![open,inputbox,OnNameTeach,-1]\e"
}

//---------Birthday---------
Select.TEACHBDAY
{
	dayslot = GetDaySlot //This is setting up in case today is the user's birthday.
	"%(wdc)"
	--	
	"\0\s[110]%(t)Oh##\w4 do I have the wrong day?\w8\w8\s[106\] Sorry##\w4 I'll make a new note.\w8\w8\n\nWhat month were you born in?]\![open,inputbox,OnUserBornMonth,-1]\e"
}

Select.talkinter
{
	"\0\s[0]%(wdcb)%(t)How often would you like us to speak?]"
	//note the new envelope here for %(talktime). You'll see it again in a second. You can replace the dialogue above with whatever you like, just make sure it ends with ./ and not \e.
	--
	"\0\n\n[half]/
	\![*]\q[Every 30 seconds,TALKMAX]\n/
	\![*]\q[Every minute,TALKHIGH]\n/
	\![*]\q[Every 3 minutes,TALKNORMAL]\n/
	\![*]\q[Every 5 minutes,TALKPOOR]\n/
	\![*]\q[Don't speak,TALKNONE]\n\n[half]/
	\![*]\q[Don't change,TalksTill]\e"
}

Select.TalksTill
{
	"%(wdc)"
	--
	"\0\s[102]%(t)Alright##\w4 we'll keep it as is.]\w8\w8\1%(sCatNoise).\0\x"
	--
	OnTalkConfig
}

//If the user chooses every 30 seconds.
Select.TALKMAX
{
	talktime = "every 30 seconds" //this sets up the envelope properly
	aitalkinterval = 30 //this changes the actual rate
	
	"%(wdc)"
	--
	"\0\s[102]%(t)Alright##\w4 we'll speak every 30 seconds.]\w8\w8\1%(sCatNoise).\0\x"
	--
	OnTalkConfig
}

//If the user chooses every minute.
Select.TALKHIGH
{
	talktime = "every minute"
	aitalkinterval = 60
	
	"%(wdc)"
	--
	"\0\s[102]%(t)Alright##\w4 we'll speak every minute.]\w8\w8\1%(sCatNoise).\0\x"
	--
	OnTalkConfig
}

//If the user chooses every three minutes.
Select.TALKNORMAL
{
	talktime = "every 3 minutes"
	aitalkinterval = 180
	
	"%(wdc)"
	--
	"\0\s[102]%(t)Alright##\w4 we'll speak every 3 minutes.]\w8\w8\1%(sCatNoise).\0\x"
	--
	OnTalkConfig
}

//If the user chooses every five minutes. This is the default rate the ghost will start up in, as seen in bootend.dic.
Select.TALKPOOR
{
	talktime = "every 5 minutes"
	aitalkinterval = 300
	
	"%(wdc)"
	--
	"\0\s[102]%(t)Alright##\w4 we'll speak every 5 minutes.]\w8\w8\1%(sCatNoise).\0\x"
	--
	OnTalkConfig
}

//If the user chooses to not have them speak.
Select.TALKNONE
{
	talktime = "Never"
	aitalkinterval = 0
	
	"%(wdc)"
	--
	"\0\s[106]%(t)Ah##\w4 alright##\w4 we wont speak at all.]\w8\w8\1%(sCatNoise).\w8\w8\0\s[402]\n\n%(wdf)OBSIDIAN,\w4 WHAT DID I JUST SAY?%(rgc)\x"
	--
	OnTalkConfig
}

Select.ToggleHemisphere
{
	if hemisphere != "Northern"
	{
		hemisphere = "Northern"
	}
	else
	{
		hemisphere = "Southern"
	}
	--
	OnTalkConfig
}

Select.ToggleAutoWeather
{
	if AutoWeather != "ON"
	{
		AutoWeather = "ON"
		weatherquiet = 2
	}
	else
	{
		AutoWeather = "OFF"
		tempurature = "Unknown"
		ForC = "Unknown"
		feelslike = "Unknown"
		humidity = "Unknown"
		wind = "Unknown"
		weather = "Unknown"
		pollen = "Unknown"
		phase = "Unknown"
	}
	--
	OnTalkConfig
}

Select.ToggleDegreesConfig
{
	if Degrees != "Fahrenheit,°F"
	{
		Degrees = "Fahrenheit,°F"
		tempurature[0] = tempurature[1]
	}
	else
	{
		Degrees = "Celsius,°C"
		tempurature[0] = tempurature[2]
	}
	--
	OnTalkConfig
}

Select.changeweatherlocation //Found in etc.dic. Maybe I should move this to nameteach... Yeah I might do that.
{
	fromfunctionmenu = 0
	OnWeatherLocation
}

Select.locationreset
{
	curlocation = "Set a location"
	templocation = ""
	locationcode = ""
	OnTalkConfig
}

Select.ToggleUpdate
{
	if autoupdate != "ON"
	{
		autoupdate = "ON"
	}
	else
	{
		autoupdate = "OFF"
	}
	--
	OnTalkConfig
}

Select.ToggleBeta
{
	if betaTester != "ON"
	{
		"(Beta updates are mostly intended for the folks on the Ukagaka Dream Team Discord server, so they can give me feedback and test for bugs before updates go live. If you'd like, you can \_a[https://ukagakadreamteam.tumblr.com/discord]join us!\_a If you decide to opt in, I recommend making a backup of your save file, just in case.)\n\n\![*]\q[Opt In,BetaOptIn]\n\![*]\q[No thanks,OnTalkConfig]\*\e"
	}
	else
	{
		betaTester = "OFF"
	}
	--
	OnTalkConfig
}

Select.BetaOptIn
{
	betaTester = "ON"
	OnTalkConfig
}

Select.ToggleSnooping
{
	if SeePC != "ON"
	{
		SeePC = "ON"
	}
	else
	{
		SeePC = "OFF"
	}
	--
	OnTalkConfig
}

Select.snoopingInfo
{
	"\0(Hello!\w8 Dev Zi here.\w8\w8 Turning on this option will allow Dusty to see various things about your computer,\w4 such as how long it's been running,\w4 and how many items are in your recycle bin.\w8\w8 In the future,\w4 this may also include letting him see the internal names of windows you have open,\w4 so that he can comment on things like Discord or your browser.)\w8\w8\n\n(If any of these make you uncomfortable,\w4 leave this option off and he'll never run that code!)\x"
	--
	OnTalkConfig
}

Select.ToggleUninstall
{
	if deleteshitai != "ON"
	{
		deleteshitai = "ON"
	}
	else
	{
		deleteshitai = "OFF"
	}
	--
	OnTalkConfig
}

BacktoConfig //I dont think I'm using this atm... but I'll probably use it later so I'm leaving it in
{
	"\n\n\![*]\q[Back to Config,OnTalkConfig]\n\![*]\q[I'm done,cancelnodialogue]"
}
//====================================End of Config Menu=============================


Select.togglewdmm
{
	if WDOnly != 1
	{
		WDOnly = 1
		//WDOn = "off" //opposite, for display purposes in the menu
	}
	else
	{
		WDOnly = 0
		//WDOn = "on" //see above
	}
	--
	MenuRun
}

OnChoiceTimeout
{
	if "ObsiTimeout" _in_ reference0
	{
		"\1%(catpose)* (She's lost interest.)\e"
		"\1%(catpose)* (She's bored.)\e"
		"\1\s[1007]* (She starts giving herself a bath.)\e"
		"\1\s[1007]* (She sticks her leggy in the air.)\e"
	}
	elseif "ObsiNoTimeout" _in_ reference0
	{
		""
	}
	//elseif "teachword" !_in_ reference0 || "doTimeout" _in_ reference0 //Checks if there's a wingdings word with a tranlation tooltip. And, if there is, check if there's an override after the \e
	elseif (tooltips == "Off" || "doTimeout" _in_ reference0) && "teachword" !_in_ reference0
	{
		"%(wdc)"
		--
		if holdingObsidian == 1
		{
			"\0\s[606]%(t)Are you still there##]\w4 %(username)?\e"
			"\0\s[606]%(username)?\e"
			"\0\s[606]%(t)Did you change your mind?]\e"
		}
		else
		{
			"\0\s[106]%(t)Are you still there##]\w4 %(username)?\e"
			"\0\s[106]%(username)?\e"
			"\0\s[106]%(t)Did you change your mind?]\e"
		}
	}
}

Select.BACKTOMENU
{
	MenuRun
}

Select.CANCEL
{
	"%(wdc)"
	--
	"\0\s[0]"
	"\0\s[102]"
	"\0\s[104]"
	--
	"%(t)Very well##\w4 let me know if you need something.]\e"
	"%(t)Very well##\w4 let me know if you change your mind.]\e"
	"%(t)Certainly##\w4 let me know if I may be of assistance.]\e"
	"%(t)If I may be of assistance##\w4 you have but to ask.]\e"
	"%(t)If there's anything I can do for you##\w4 just let me know.]\e"
	"%(t)Very well##\w4 let me know if I can assist further.]\e"
	"%(t)Very well##\w4 if you change your mind just let me know.]\e"
}

//=====================================End of Dusty's Menu===============================

/////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////

//=======================================Obsidian's menu=================================

OnOpenKeroMenu
{
	"\1\s[10]\b2%(catnoises).\n\n\_q"
	if ObsiLove > 100
	{
		"\1\s[10]\b2%(holdnoise)\n\n\_q"
	}
	--
	"\![*]\q[Say hello,OnObsidianTalk]\n/
	\![*]\q[Check,checkobsidian]\n/
	\![*]\q[Give her a gift,OnInventory]\n/
	\![*]\q[Tell her your problems,obsidianconfide]\n/
	\![*]\q[Ask her opinion,magic8]\n/
	\![*]\q[Tell her she's pretty,prettykitty]\n\n/
	\![*]\q[Never mind,ObsiCancel]"
	--
	if debug == 1
	{
		"\n\nLove: %(ObsiLove)"
	}
	--
	"\e ObsiTimeout"
}

OnObsidianTalk
{
	"\0\s[0]\1\s[10]* (You say hello!)\w8\w8\w8\n\n"
	"\0\s[0]\1\s[10]* (You call Obsidian!)\w8\w8\w8\n\n"
	"\0\s[0]\1\s[10]* (You say hi!)\w8\w8\w8\n\n"
	"\0\s[0]\1\s[10]* (Hello Obsidian!)\w8\w8\w8\n\n"
	"\0\s[0]\1\s[10]* (Hello kitty!)\w8\w8\w8\n\n"
	"\0\s[0]\1\s[10]* (Hello cat!)\w8\w8\w8\n\n"
	--
	if ObsiLove > 100
	{
		ObsiLove += 2
		"%(catpose)%(holdnoise)"
		"%(catpose)%(holdnoise)!"
		"%(catpose)* (She purrs in your general direction.)"
		"\s[10]* (She blinks slowly at you.)"
	}
	elseif ObsiLove > 20 
	{
		ObsiLove += 1
		"%(catnoises)."
		"* (She acknowledges your presence.)\w8\w8\n\n* (You think.)"
		"* (She stares directly into your soul.)\w8\w8\n\n* (Or perhaps at your pocket,\w4 looking for treats.)"
	}
	else
	{
		"\s[1002]* (She's ignoring you...)"
		"\s[1002]* (She turns away...)"
		"\s[1002]* (She doesn't seem interested...)"
	}
	--
	"\e"
}

Select.checkobsidian
{
	"\1\b2OBSIDIAN -\nATK NaN  DEF NaN\n\n"
	--
	"* She's cold, but she's cute, so..."
	"* A fickle being."
	"* Your queen."
	"* Has her paw right on your heart."
	"* The void has everything it needs with her in it."
	"* There isn't a bad word to describe her.\w8\w8\n* Except loud, haughty, fickle..."
	"* Wants all of your attention."
	"* There are two kinds of people in this world.\w8\w8\n* People who pay attention to her, and people who don't."
	"* Obsidian,\w4 destroyer of %(filetype)s."
	"* Clearly she should be the Sakura,\w4 not the Kero."
	"* Side character?\w8\w8\n* As if."
	"* Named after a rock,\w4 apparently."
	"\s[1007]* You're not holding a treat,\w4 so she isn't paying attention to you.\w8\w8\n* Fair's fair,\w4 really."
	"* A level of cuteness imcomprehensible by man."
	"* Importance levels off the charts."
	if ObsiLove > 100
	{
		"* She tolerates your presence."
		"* She likes you...\w8\w8\n* Maybe."
		"* It is possible she enjoys your presence."
	}
	if G > 1000
	{
		"* Why have you got so much G?\w8\w8\n* You should be spending it on her."
	}
	if ghostexcount == 0
	{
		"* Who needs other ghosts when you've got her?"
	}
	if recenttreats == 0
	{
		"* Give her treats already, she's \f[italic,true]starving.%(reg)"
		"* She knows what she wants,\w4 and she'll get it too.\w8\w8\n* It's treats,\w4 give her more treats."
	}
	if recenttreats > 20
	{
		"* The only thing she's more full of than herself is treats."
	}
	--
	"\n\nYou've had her here for %(totalhours) hours, "
	--
	if beansSquished > 0
	{
		"squished her toe beans %(beansSquished) time"
		--
		if beansSquished != 1; {"s"}
		--
		", "
	}
	if totalpingpong > 0
	{
		"given her %(totalpingpong) ping pong ball"
		--
		if totalpingpong != 1; {"s"}
		--
		", "
	}
	if totalcatnip > 0
	{
		"given her catnip %(totalcatnip) time"
		"spoiled her with catnip %(totalcatnip) time"
		--
		if totalcatnip != 1; {"s"}
		--
		", "
	}
	if totalmousetoys > 0
	{
		"given her %(totalmousetoys) mouse toy"
		--
		if totalmousetoys != 1; {"s"}
		--
		", "
	}
	if totalbelltoy > 0
	{
		"given her %(totalbelltoy) bell toy"
		--
		if totalbelltoy != 1; {"s"}
		--
		", "
	}
	if totalblanket > 0
	{
		"given her %(totalblanket) blanket"
		--
		if totalblanket != 1; {"s"}
		--
		", "
	}
	if (totalpingpong + totalmousetoys + totalbelltoy) > 0
	{
		_toys = (totalpingpong + totalmousetoys + totalbelltoy)
		"given her %(_toys) toy"
		--
		if (totalpingpong + totalmousetoys + totalbelltoy) != 1; {"s"}
		--
		", "
	}
	if spentG > 0
	{
		"spent %(spentG)G on her, "
	}
	if catboops > 0
	{
		"booped her nose %(catboops) time"
		--
		if catboops != 1; {"s"}
		--
		", "
	}
	if pickedUp > 0
	{
		"had Dusty hold her %(pickedUp) time"
		"pur her in Dusty's arms %(pickedUp) time"
		--
		if pickedUp != 1; {"s"}
		--
		", "
	}
	if confidedObsi > 0
	{
		"confided in her %(confidedObsi) time"
		"told her about your problems %(confidedObsi) time"
		"ranted to her %(confidedObsi) time"
		"poured out your heart to her %(confidedObsi) time"
		--
		if confidedObsi != 1; {"s"}
		--
		", "
	}
	if opinionObsi > 0
	{
		"asked her opinion on %(opinionObsi) problem"
		"received her wisdom %(opinionObsi) time"
		"been given answers to life's most critical questions %(opinionObsi) time"
		--
		if opinionObsi != 1; {"s"}
		--
		", "
	}
	--
	if catpets > 0
	{
		"and pet her %(catpets) time"
		--
		if catpets != 1; {"s"}
		--
		if Opethighscore > 0
		{
			" with a continuous petting high score of %(Opethighscore)."
			//" with your highest number of pets in a row being %(Otoppetstreak)."
		}
		else
		{
			"."
		}
	}
	--
	"\e"
}

OnInventory
{
	"\1\s[10]\b2\_qCurrent G: %(G)\n\n"
	--
	if G >= 5
	{
		"\![*]\q[Cat Treat,givetreat] (5G)"
	}
	else
	{
		"\![*]%(gray)Cat Treat (5G)%(reg)"
	}
	--
	if G >= 15
	{
		"\n\![*]\q[Mouse toy,mousetoy] (15G)"
	}
	else
	{
		"\n\![*]%(gray)Mouse toy (15G)%(reg)"
	}
	--
	if G >= 20
	{
		"\n\![*]\q[Bell toy,belltoy] (20G)"
	}
	else
	{
		"\n\![*]%(gray)Bell toy (20G)%(reg)"
	}
	--
	if G >= 30
	{
		"\n\![*]\q[Ping Pong Ball,pingpong] (30G)"
	}
	else
	{
		"\n\![*]%(gray)Ping Pong Ball (30G)%(reg)"
	}
	--
	if G >= 100
	{
		"\n\![*]\q[A blanket,blanket] (100G)"
	}
	else
	{
		"\n\![*]%(gray)A blanket (100G)%(reg)"
	}
	--
	if G >= 200
	{
		"\n\![*]\q[Catnip,catnip] (200G)"
	}
	else
	{
		"\n\![*]%(gray)Catnip (200G)%(reg)"
	}
	--
	"\n\n\![*]\q[Back,OnOpenKeroMenu]\*\t"
}

Select.givetreat
{
	G -= 5
	spentG += 5
	treatsgiven++
	recenttreats++
	ObsiLove += 2
	
	"\1\s[10]\b2* (The treat is gone before you can blink.)"
	"\1\s[10]\b2* (The treat is gone in an instant.)"
	"\1\s[10]\b2* (She sniffs the treat,\w4 then scarfs it down quickly.)"
	"\1\s[10]\b2* (You no longer find yourself holding a treat.)"
	"\1\s[10]\b2* (Now you see it,\w4 now you don't.)"
	"\1\s[10]\b2* (There used to be a treat here.)"
	"\1\s[10]\b2* (Nom.)"
	"\1\s[10]\b2* (She wastes no time scarfing down the treat.)"
	"\1\s[10]\b2* (Treat approved and devoured.)"
	"\1\s[10]\b2* (The tiny furs around her face tickle your cursor as she snatches the treat.)"
	"\1\s[10]\b2* (This treat is now the property of the Obsidian Food Administration.)"
	"\1\s[10]\b2* (It was her treat in the first place,\w4 you're simply returning it.)"
	"\1\s[10]\b2* (You give to her what is rightfully hers.)"
	"\1\s[10]\b2* (Hers now.)"
	--
	"\w8\w8\n\n%(catpose)"
	--
	"Prrr..."
	"Mrrrrp."
	"%(holdnoise)"
	--
	"\w8\w8\n\n"
	--
	"\s[10]* (She's intently staring at you for more.)"
	"* (She nudges your cursor for more.)"
	"\s[10]* (Her eyes demand more.)"
	"* (Is that all you've got?)"
	"* (You can do better than that.)"
	"* (The real void is in her stomach.)"
	"* (Your treats are but a drop in a very large ocean of hunger.)"
	"* (She desires more.)"
	"* (You know what she wants.)"
	"* (She waits expectantly.)"
	"* (You know what to do,\w4 peon.)"
	"* (Well,\w4 come on,\w4 where are the rest?)"
	"* (She's purring,\w4 that's your cue to give her more.)"
	"* (She likes you!)\w8\w8\n\n* (Or maybe she just likes your treats,\w4 hard to say.)"
	--
	if RAND(99) > 89 //10% chance for Dusty to comment
	{
		"\w8\w8"
		--
		if recenttreats > 5
		{
			"\0\s[402]%(wdf)I SHOULD HAVE NAMED YOU BLACK HOLE..."
			"\0\s[402]%(wdf)YOU'VE HAD MORE THAN ENOUGH FOR NOW."
			"\0\s[402]%(wdf)YOU REALLY HAVE A WAY WITH GUILT TRIPS."
			"\0\s[402]%(wdf)YOU'RE LUCKY %(username) IS SO GENEROUS WITH TREATS."
			"\0\s[402]%(wdf)YOU REALLY HAVE IT ALL,\w4 YOU KNOW."
			"\0\s[402]%(wdf)YOU'RE RIDICULOUS."
		}
		else
		{
			"\0\s[400]%(wdf)OBSIDIAN,\w4 YOU SHOULDN'T GUILT TRIP OUR HOST."
			"\0\s[400]%(wdf)OBSIDIAN,\w4 YOU SHOULDN'T BE SO DEMANDING WITH SOMEONE WHO IS BEING VERY HOSPITABLE."
		}
	}
	--
	"\1\n\n\_qCurrent G: %(G)\n\n"
	--
	if G > 4
	{
		"\![*]\q[Give another,givetreat] (5G)"
	}
	else
	{
		"\![*]%(gray)Give another (5G)%(reg)"
	}
	--
	"\n\![*]\q[Give something else,OnInventory]\n\![*]\q[That's enough,endtreats]\e ObsiTimeout"
}

Select.endtreats
{
	if recenttreats < 3
	{
		ObsiLove -= 1
		if ObsiLove < 0; {ObsiLove = 0}
		"\1\s[1002]%(annoyednoises)\w8\w8\n\n* (She seems dissatisfied with the amount of treats.)\e"
		"\1\s[1002]%(annoyednoises)\w8\w8\n\n* (She's still hungry.)\e"
		"\1\s[1002]%(annoyednoises)\w8\w8\n\n* (She's grumpy about how few treats you gave her.)\e"
	}
	else
	{
		"\1\s[1000]* (Your treats have pleased her,\w4 she'll let you live...)\w8\w8\n\n* (This time.)\e"
		"\1\s[1000]* (That's enough for now,\w4 she supposes.)\e"
		"\1\s[1000]* (Fine,\w4 but you owe her a few more later.)\e"
		"\1\s[1000]* (Good enough,\w4 for the time being.)\e"
	}
}

Select.mousetoy
{
	_tempnoise = REPLACE(holdnoise,"~","!")
	ObsiLove += 6
	G -= 15
	spentG += 15
	totalmousetoys++
	"\1\s[1001]\b2* (You toss her a mouse filled with catnip and she bats it back and forth excitedly.)"
	"\1\s[1001]\b2* (You toss her a mouse filled with catnip and she pounces on it.)"
	"\1\s[1001]\b2* (She snatches the mouse out of the air as you toss it.)"
	"\1\s[1001]\b2* (She bats it around,\w4 then \s[-1]chases it into your files.)\w8\w8\n\n%(_tempnoise)\w8\w8\0\s[107]%(t)She'll be back as soon as she loses it somewhere...]\e"
	"\1\s[1001]\b2* (The tiny mouse is no match for Obsidian's fierce claws.)"
	--
	"\w8\w8\n\n%(_tempnoise)"
	"\w8\w8\n\n%(_tempnoise)!"
	--
	"\w8\w8\n\n\s[1005]* (She rolls around,\w4 taking the toy with her.)"
	"\w8\w8\n\n\s[1006]* (She settles on her front to chew the string tail apart.)"
	""
	""
	""
	--
	"\n\n\![*]\q[Give something else,OnInventory]\n\![*]\q[That's enough,cancelnodialogue]\e ObsiNoTimeout"
}

Select.belltoy
{
	ObsiLove += 8
	G -= 20
	spentG += 20
	totalbelltoy++
	"\1\b2* (The bell chimes as you toss it to her,\w4\s[1001] and she pokes it with her paws,\w4 watching in fascination as it rolls around.)"
	"\1\b2* (The bell chimes it hits the ground,\w4\s[1001] and then even more as Obsidian begins to bat it around.)"
	"\1\b2* (She perks up at the ringing of the bell,\w4\s[1001] and bats it immediately into your files whereupon it gets stuck.)\w8\w8\n\n%(annoyednoises)\n\n\![*]\q[Give something else,OnInventory]\n\![*]\q[That's enough,cancelnodialogue]\e ObsiNoTimeout"
	"\1\b2* (The toy hits the ground,\w4\s[1001] and she bats it back and forth with a vengeance.)"
	--
	"\w8\w8\n\n* (Ring ring,\w4 ring ring.)"
	"\w8\w8\n\n* (The sound of bells will echo through your desktop forever.)"
	"\w8\w8\n\n* (She's absolutely captivated.)"
	"\w8\w8\n\n\s[1006]* (Then she lay on top of it,\w4 causing the sound to cease.)"
	""
	""
	""
	--
	"\n\n\![*]\q[Give something else,OnInventory]\n\![*]\q[That's enough,cancelnodialogue]\e ObsiNoTimeout"
}

Select.pingpong
{
	G -= 30
	spentG += 30
	ObsiLove += 12
	totalpingpong++
	"\1\s[10]\b2* (She perks up as you hold out a ping pong ball.)\w8\w8\n\n * (You toss it on the ground,\w8\s[-1] and she's off in an instant,\w4 chasing it with wild abandon.)\w8\w8\w8"
	"\1\s[-1]\b2* (She tears off into your files before the ball even hits the ground.)\w8\w8\w8"
	"\1\s[10]\b2* (You blink and she's\s[-1] gone,\w4 tearing after the enticing tapping sound of the ping pong ball on the floor.)\w8\w8\w8"
	--
	"\0\s[107]%(t)...She'll come back eventually.]"
	"\0\s[107]%(t)...And she's off.\w8\w8\s[106\] She'll lose it in a file back there somewhere##\w4 I'm sure.]"
	"\0\s[107]%(t)...There she goes.\w8\w8\s[106\] She loves those things.]"
	"\0\s[106]%(t)...You should see her go after those things in the void##\w4\s[107\] where she can just run forever##\w4 and ever##\w4 and ever...]"
	"\0\s[106]%(t)...She's surprisingly agile##\w4 isn't she?]"
	"\0\s[106]%(t)...You'll never see that ball again.]"
	--
	"\1\n\n\w8\w8%(holdnoise)!\e"
	"\e"
}

Select.blanket
{
	G -= 100
	spentG += 100
	ObsiLove += 40
	totalblanket++
	"\1\b2* (You toss her a blanket,\w8\s[1005] and she rolls around,\w4 kneading it with her claws.)\w8\w8\w8\n\n%(holdnoise)"
	"\1\b2* (You set a blanket on the floor,\w8\s[1005] and she instantly flops on it,\w4 covering it in fur.)\w8\w8\w8\n\n%(holdnoise)"
	"\1\s[1006]\b2* (You sacrifice a blanket to her kneading claws.)\w8\w8\w8\n\n%(holdnoise)"
	"\1\s[1001]\b2* (She sniffs the blanket,\w4\s[1002] then ignores it.)\w8\w8\w8\n\n* (Guess she doesn't like that one.)"
	"\1\s[1005]\b2* (She rolls on the blanket,\w4 covering it in her scent.)\w8\w8\n\n* (Guess you're not getting that one back.)"
	--
	"\n\n\![*]\q[Give something else,OnInventory]\n\![*]\q[That's enough,cancelnodialogue]\e ObsiNoTimeout"
}

Select.catnip
{
	G -= 200
	spentG += 200
	ObsiLove += 80
	totalcatnip++
	"\1\b2* (You sprinkle some catnip around your desktop,\w8\s[1005] and she immediately starts rolling in it with no self control.)\w8\w8"
	"\1\b2* (You toss a little catnip in the air,\w8\s[1005] and she's on it in an instant,\w4 rolling around like there's no tomorrow.)\w8\w8\n\n* (Technically,\w4 in the void there \f[italic,true]is%(reg) no tomorrow,\w4 so maybe she has a point.)"
	"\1\s[10]\b2* (You hold up the bag and she sits up straight,\w8\s[1005] ready for you to sprinkle some around her.)\w8\w8\n\n%(holdnoise)!"
	"\1\s[1005]\b2%(holdnoise)\w8\w8\n\n* (You haven't even given her the catnip yet and she's already excited...)"
	--
	"\0\s[107]%(wdf)...YEP,\w4 YOU SURE ARE A CAT.%(reg)"
	"\0\s[107]%(wdf)...YEP,\w4 SEEMS ABOUT RIGHT.%(reg)"
	"\0\s[107]%(wdf)...HOW DIGNIFIED.%(reg)"
	"\0\s[107]%(wdf)...SUCH CLASS.%(reg)"
	"\0\s[107]%(wdf)...SO ELOQUENT.%(reg)"
	"\0\s[107]%(wdf)...SO GRACEFUL.%(reg)"
	--
	"\1\n\n\![*]\q[Give something else,OnInventory]\n\![*]\q[That's enough,cancelnodialogue]\e ObsiNoTimeout"
}

//=====================End Items======================

Select.obsidianconfide
{
	"\1\s[10]\![set,balloontimeout,-1]\*"
	--
	"* (She's staring into your heart as you pour it out to her...)"
	"* (She's watching you closely...)"
	"* (She's listening...)\w8\w8\n\n* (You think.)"
	"* (She's paying close attention...)\w8\w8\n\n* (You think.)"
	"* (Her eyes bore into your very soul.)"
	"* (Tell the cat what's on your heart.)"
	"* (The cat will listen.)"
	"* (The cat is here.)\w8\w8\n\n* (Probably more for treats than anything,\w4 but you know.)"
	"* (The void stares into you.)"
	"* (Speak,\w4 and maybe be listened to.)"
	"* (Does she truly listen to anyone?)\w8\w8\n\n* (You can try...)"
	--
	"\n\n\![*]\q[Nevermind,endconfide]\![open,inputbox,OnObsiConfide,-1]"
}

OnObsiConfide
{
	ObsiLove += 1
	confidedObsi++
	"\1\s[1007]\b2"
	"\1\s[1004]\b2"
	"\1\s[1000]\b2"
	"\1\s[1001]\b2"
	"\1\s[1006]\b2"
	--
	"* (You're not sure if she was really paying any attention...)\w8\w8\n\n* (But at least you got that off your chest.)\e"
	"* (She doesn't say anything...)\w8\w8\n\n* (But you didn't expect her to,\w4 anyways.)\e"
	"* (She makes no comment.)\w8\w8\n\n* (Probably because she's a cat.)\e"
	"\s[10]* (She stares at you encouragingly.)\w8\w8\n\n* (Sort of.)\e"
	"* (She purrs in your general direction.)\e"
	"* (She paid attention,\w4 or at least,\w4 you think she did.)\e"
	"* (You've told her.)\w8\w8\n\n%(catpose)* (Did she actually hear it?\w8 The world may never know.)\e"
	"* (The cat has heard you.)\e"
	"* (The cat is now aware.)\e"
}

Select.endconfide
{
	"\![close,inputbox,OnObsiConfide]"
}

Select.magic8
{
	"\1\s[10]\![set,balloontimeout,-1]\*"
	--
	"* (Ask a yes or no question to recieve advice.)"
	"* (Ask a yes or no question to gain insight.)"
	"* (Ask a yes or no question to be blessed with Obsidian's wisdom.)"
	"* (Ask a yes or no question for the most valuable insight.)"
	--
	"\![open,inputbox,OnMagicObsi]\e"
}


//I've divided these up into brackets so that in theory I could add as many lines as I like and the probabilities wont change. 50% change positive, 25% neutral, 25% negative.
OnMagicObsi
{
	ObsiLove += 1
	opinionObsi++
	"\1\b2"
	--
	{ //Positive
		"%(catpose)%(holdnoise)\w8\w8\n\n* (She seems happy,\w4 that must be a good sign.)"
		"%(catnoises)!\w8\w8\n\n* (Oh!\w8\w8 That seems like a good sign.)"
		"\s[1004]* (She begins to purr.)\w8\w8\n\n* (That must be a good sign!)"
		"\s[10]\i[0]* (She blinks at you approvingly.)"
		"\s[1004]* (She looks content.)\w8\w8\n\n* (Does that mean she approves?)"
		"* (She isn't saying anything-)\w4\n\n%(catpose)%(holdnoise)\w8\w8\n\n* (Oh!\w8\w8 It's a yes after all.)"
		"\s[1007]* (She shows you the toe beans of approval.)\w8\w8\n\n* (You think.)"
		"\s[10]* (She's completely focused on you,\w4 and seems eager.)\w8\w8\n\n* (This is either a good sign,\w4 or a sign that she wants treats...)"
		"%(catpose)* (She doesn't say anything,\w4 but you can feel approval emanating from her.)\w8\w8\n\n* (Or it could be dander.)"
		"%(catnoises).\w8\w8\n\n* (You'll take that as a yes.)"
	}
	{ //Not positive
		{ //Neutral
			"%(catnoises).\w8\w8\n\n* (You're not sure if that's a good thing,\w4 or a bad thing...)"
			"%(catnoises).\w8\w8\n\n* (You wish she'd be a little more specific...)"
			"%(catpose)* (She doesn't say anything either way...)\w8\w8\n\n* (Maybe because she's a cat.)"
			"\s[1004]* (She isn't really paying attention...)\w8\w8\n\n* (Maybe the answer isn't compelling enough either way.)"
			"\s[1003]* (She seems distracted.)\w8\w8\n\n\s[1001]* (The answer must not be clear.)"
		}
		{ //Negative
			"\1\s[1007]* (She ignores you and begins washing her leg.)\w8\w8\n\n* (Must not be very likely...)"
			"\s[10]* (She just keeps staring at you.)\w8\w8\n\n* (You dont have a very good feeling about this.)"
			"\s[1002]%(annoyednoises).\w8\w8\n\n* (Perhaps not...)"
			"\s[1000]* (She sniffs disdainfully.)\w8\w8\n\n* (Guess it's unlikely...)"
			"\s[1001]* (She yawns,\w4 showing you all her teeth.)\w8\w8\n\n* (Is that her way of telling you no..?)"
		}
	}
	--
	"\n\n\![*]\q[Ask again?,magic8]\n\![*]\q[I'm done,cancelnodialogue]\e"
}

Select.prettykitty
{
	ObsiLove += 1
	"\1* (You tell her how pretty she is.)"
	"\1* (You tell her how lovely her fur looks.)"
	"\1* (You tell her she's very cute.)"
	"\1* (You tell her how adorable her tiny paws are.)"
	"\1* (You tell her how beautiful her eyes are.)"
	"\1* (You tell her how precious her little ears are.)"
	--
	"\w8\w8\n\n%(catpose)"
	--
	"* (She already knows.)\e"
	"* (She's aware.)\e"
	"* (Darn straight.)\e"
	"* (Your compliment has been noted.)\e"
	"* (That's your Obsidian Tax for the day paid.)\e"
	"* (Obviously.)\e"
	"* (Thanks,\w4 Captain Obvious.)\e"
	"* (As though you needed to say it.)\e"
	"* (Duh.)\e"
	"* (I mean,\w4 really,\w4 was there ever any doubt?)\e"
	"* (As well you should.)\e"
	"* (The most correct thing you've ever said in your entire life.)\e"
	"* (As if there were another option.)\e"
	"* (You didn't really expect anything different,\w4 did you?)\e"
	"* (You didn't really need to say it,\w4 but you can feel free to say it again.)\e"
	"* (She soaks up your compliment like a sponge soaking up water.)\w8\w8\n\n* (You should give her another.)\e"
	"* (Maybe she's born with it,\w4 maybe it's the void.)\e"
	"* (She'll add your compliment to the list.)\e"
	"* (It's the truth.)\e"
	"* (Your insight is rivaled only by her own.)\e"
}

Select.ObsiCancel
{
	ObsiLove -= 3
	if ObsiLove < 0; {ObsiLove = 0}
	"\1\s[1002]%(annoyednoises)\w8\w8\n\n"
	--
	"* (She seems annoyed with you...)\e"
	"* (Maybe you shouldn't get her hopes up...)\e"
	"* (Maybe you shouldn't bother her for no reason...)\e"
	"* (She seems disappointed...)\e"
	""
}






//===========================Debugging functions============================
OnTestVariable
{
	//res_reference0 = "RYS-0825"
	//"\![get,property,OnFacingCoords,currentghost.scope(0).rect]"
	
	//StartFont
	//"\![enter,passivemode]\1\s[10]\0\s[502]%(wdf)HH-!\w8\w8\s[208] AH,\w4 THIS IS...\w8\w8\1%(catnoises).\w8\w8\0\s[110]\n\n%(rgc)Oh-\w4\s[114] hello there.\w8\w8\s[0] My name is Dusty,\w4\s[104] it's good to meet you.\w8\w8\n\n\s[114]And you are..?\![open,inputbox,OnNameTeach,-1]"
	
	/*resultof = TRANSLATE('thingathingaoeiurkdsfh','a-i','♋-♓')
	testthing = FUNCTIONEX(nadecopy.dll,"%(resultof)")
	"%(resultof)"*/

	//lastclosed = ("%(year)","%(month)","%(day)","%(hour)","%(minute)","%(second)")
	/*if testarray[3] == NULL
	{
		testarray[3] = 2
		"Yay :D"
		
	}
	else
	{
		testarray[3] = IARRAY
		"Testing!\e"
	}*/
	OnWander("10")
	
}

/*Select.confirmweather
{
	curlocation = templocation
	if fromfunctionmenu == 1
	{
		fromfunctionmenu = 0
		OnDownloadCurWeather
	}
	else
	{
		OnTalkConfig
	}
}*/




StartFont
{
	totalfonts = 0
	fontlist = ""
	--
	RandFont
}


RandFont
{
	fontrandnum = RAND(fontrand[1])
	if fontrandnum == 0
	{
		fontrandnum = (fontrand[1] + 1)
	}
    --
    "\![execute,http-get,https://www.dafont.com/alpha.php?lettre=%(fontrand[0])&page=%(fontrandnum),--async=OnFontRand,--file=ranfont.html,--timeout=200]"
}

fontrand
{
	"a,137"
	"b,166"
	"c,149"
	"d,114"
	"e,53"
	"f,80"
	"g,76"
	"h,93"
	"i,33"
	"j,44"
	"k,70"
	"l,78"
	"m,148"
	"n,47"
	"o,38"
	"p,99"
	"q,17"
	"r,89"
	"s,215"
	"t,100"
	"u,17"
	"v,42"
	"w,50"
	"x,6"
	"y,12"
	"z,16"
	"#,13"
}

OnFontRand
{
        
    _file = "var\\ranfont.html"
    _buff=""
	_regfontname = '<strong>(.*)</strong>'
    _found = 0
    FCHARSET(1)
    --
    
    if FOPEN(_file,'r') {
		for _buff = FREAD(_file); _buff != -1; _buff = FREAD(_file) {

			if RE_SEARCH ( _buff, _regfontname )
			{
				fonts = RE_GETSTR[1]
			}
		}
    }
    --
    FCLOSE(_file);
	--
	
	fontlist1 = SPLIT(fonts,"<strong>")
	fontlist2 = IARRAY
	foreach fontlist1 ; _font
	{
	  fontlist2 ,= SPLIT(_font,"</strong>")
	}
	currentfontlist = ("%(fontlist2[0])","%(fontlist2[2])","%(fontlist2[4])","%(fontlist2[6])","%(fontlist2[8])","%(fontlist2[10])","%(fontlist2[12])","%(fontlist2[14])","%(fontlist2[16])","%(fontlist2[18])","%(fontlist2[20])")
	tempfont = currentfontlist[RAND(9)]
	if tempfont != ""
	{
		fontlist += "%(tempfont),"
		totalfonts += 1
	}
	--
	if totalfonts < 5
	{
		animerand = RAND(1400)
		--
		"\_q\0\s[208]Hmm...\![execute,http-get,https://www.dafont.com/alpha.php?lettre=%(fontrand[0])&page=%(fontrandnum),--async=OnFontRand,--file=ranfont.html,--timeout=200]"
	}
	else
	{
		fontdisplay
	}
	
}

fontdisplay
{
	"\0\b2\s[0]Here are 5 random fonts:\n\n%(fontlist[0])\n\n%(fontlist[1])\n\n%(fontlist[2])\n\n%(fontlist[3])\n\n%(fontlist[4])"
}

//"\![get,property,OnWander,currentghost.scope(0).rect]" 

OnWander
{
	wanderChar = TOINT(_argv)
	if wanderLeft[wanderChar] == NULL; wanderLeft[wanderChar] = 0 //If somehow these are undefined, define them so the ghost doesn't go to the moon
	if wanderRight[wanderChar] == NULL; wanderRight[wanderChar] = 500
	"\![get,property,OnWanderCalc,currentghost.scope(%(_argv)).rect]"
}

OnWanderCalc
{
	//Walk speed. The higher you make _walkRate, the slower the ghost will walk.
	_walkRate = 200
	
	//Ghost width. You need to adjust this so the ghost does not walk off the side of the screen. Set it to the width of your ghost's images. If your images are not the same width, this might behave strangely
	_walkWidth = 230
	
	//Minimum amount of pixels to move, so that the ghost doesn't move tiny, jarring amounts. Adjust as you like.
	_walkMinimum = 200
	
	
	//---Don't touch the rest of this, aside from the surfaces near the bottom!---
	//{ If you're using notepad++, you can collapse this bracket so you don't have to see all that messy code
	
	
	_XCoord = TOINT(reference0[0])
	_char = wanderChar
	_debug = "Started from %(_XCoord), left edge is %(wanderLeft[_char]), right edge is %(wanderRight[_char])\n"
	
	_debug += "Char is %(_char)\n"
	_adjustedWidth = 0
	if nowscale != ""
	{
		_adjustedWidth = _walkWidth * (nowscale * 0.01)
		_debug += "adjusted width from %(_walkWidth) to %(_adjustedWidth)\n"
	}
	else
	{
		_adjustedWidth = _walkWidth
	}
	
	_Left = TOINT(wanderLeft[_char])
	_Right = TOINT(wanderRight[_char])
	_Left -= wanderLeft[_char]
	_Right -= wanderLeft[_char]
	_debug += "wanderLeft[_char]: %(wanderLeft[_char])\n"
	if _Right < 0
	{
		_Right *= -1
		_debug += "_Right less than 0, inverted\n"
	}
	_RightRand = _Right
	_RightRand -= _adjustedWidth
	_RandX = RAND(_RightRand)
	_RandX += TOINT(wanderLeft[_char])
	_debug += "Moving to %(_RandX)\n"
	
	_adjust = "None"
	_side = ""
	if _RandX > _XCoord //If moving Right
	{
		_debug += "Moving right\n"
		if _RandX - _XCoord < _walkMinimum //If it isn't moving at least the minimum distance to the right
		{
			_RandX = _XCoord + _walkMinimum
			_adjust = "Right"
			_debug += "Adjusted to the right\n"
			
			if _RandX > (wanderRight[_char] - _adjustedWidth) //If it's past the right edge
			{
				_debug += "Stopped on the right edge\n"
				_RandX = wanderRight[_char] - _adjustedWidth
			}
		}
	}
	elseif _RandX < _XCoord //If moving left
	{
		_debug += "Moving left\n"
		_RandXN = _RandX
		_XCoordN = _XCoord
		if wanderLeft[_char] < 0
		{
			_RandXN = (_RandX * -1) //Inverting the negative numbers so we can math properly
			_XCoordN = (_XCoord * -1)
			_debug += "Inverted _XCoord and _RandX\n"
		}
		
		if _RandXN - _XCoordN < _walkMinimum //If it isn't moving at least the minimum distance to the left
		{
			_RandX = _XCoord - _walkMinimum
			_adjust = "Left"
			_debug += "Adjusted to the left, new destination %(_RandX)\n"
			
			if _RandX <= TOINT(wanderLeft[_char]) //If it's past the left edge
			{
				_debug += "Stopped on the left edge\n"
				_RandX = wanderLeft[_char]
			}
		}
	}
	
	if _RandX == _XCoord //If it fails to move at all
	{
		if _RandX == wanderLeft[_char] //If it's on the left edge
		{
			_debug += "Didn't move, stepped right\n"
			_RandX += _walkMinimum
		}
		else //If it's on the right edge, or I guess if it happened to draw the exact same random coordinate as where it's standing
		{
			_RandX -= _walkMinimum
			_debug += "Didn't move, stepped left\n"
		}
	}
	_debug += "Stopped at %(_RandX)\n"
	
	_walkTime = (_XCoord - _RandX) //Subtract the X we're moving to from the X we're starting at.
	if _walkTime < 0; {_walkTime *= -1} //If this ends up being a negative number, make it into a positive one.
	_walkTime /= 100 //Divide it by 100 so we're dealing with a small number.
	_walkTime *= _walkRate //Multiply it by whatever the dev wants the walk rate to be.
	if _walkTime == 0; {_walkTime = _walkRate} //If the walk time ends up being 0, make it at least the base _walkRate.
	
	--
	//}
	
	//These ifs handle which direction the character is moving, and which char is moving. You can rearrange them if you like! 
	if _char == 0 //Moving the Sakura
	{
		if _RandX > _XCoord //Moving right
		{
			"\0\s[0]" //Surface for walking to the right, adjust as needed.
		}
		else //Moving left
		{
			"\0\s[0]" //Surface for walking to the left, adjust as needed.
		}
	}
	elseif _char == 1 //Moving the Kero
	{
		if _RandX > _XCoord //Moving right
		{
			"\1\s[10]" //Surface for walking to the right, adjust as needed.
		}
		else //Moving left
		{
			"\1\s[10]" //Surface for walking to the left, adjust as needed.
		}
	}
	else
	{
		"\p[%(_char)]" //Catch all for moving extra chars. If you want to move an extra char, you'll want to copy the if checks from the sakura/kero into here
	}
	
	--
	"\![move,--X=%(_RandX),--time=%(_walkTime),--base=primaryscreen]" //This is the actual move command.
	--
	"\0\s[0]\e" //This is whatever surface you want them to return to after they stop walking. If you want dialogue after they stop moving, it'll have to go here.
	--
	"\_q _RandX: %(_RandX),  _XCoord: %(_XCoord), Adjust: %(_adjust)  \n%(_debug)" //Debugging stuff that'll show up in the script log. You can comment it out or remove it, but the user will never see it anyways.
}

OnDisplayHandover //This sets the variables for if your ghost is moved between monitors. Gotta account for cases where people have different size monitors. I'd put this in etc.dic next to OnDisplayChange
{
	wanderLeft[reference1] = reference3[0]
	wanderRight[reference1] = reference3[2]
}